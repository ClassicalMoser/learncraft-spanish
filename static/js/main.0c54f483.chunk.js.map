{"version":3,"sources":["QuickbaseTablesInfo.js","QuickbaseFetchFunctions.js","ExampleRetriever.js","Menu.js","QuizInterface.js","QuizInterfaceNoUpdate.js","SRSBuilder.js","SimpleQuizApp.js","App.js","reportWebVitals.js","index.js"],"names":["qb","studentExamples","name","id","fields","students","vocabulary","examples","lessons","createHeaders","userToken","QB-Realm-Hostname","User-Agent","Authorization","Content-Type","printFields","json","console","log","createFieldsJSON","fieldNames","jsonFields","map","fieldName","str","replaceAll","split","word","index","toLowerCase","charAt","toUpperCase","slice","join","number","find","element","label","createTable2","data","linksArr","stringedJSON","link","parsedJSON","JSON","parse","forEach","value","fetchAndCreateTable","_x","_x2","_fetchAndCreateTable","apply","this","arguments","_callee","tableInitInfo","res","buffer","decoder","text","linkedFieldsToNumsArr","tableArr","_regeneratorRuntime","wrap","_context","prev","next","fetch","method","headers","body","stringify","tableID","from","select","sent","ok","arrayBuffer","TextDecoder","decode","abrupt","t0","stop","createBodyForUpdateStudentExample","recordID","lastReviewDate","reviewInterval","to","3","6","7","fieldsToReturn","createBodyForCreateStudentExample","exampleID","studentID","8","9","updateStudentExample","_x5","_x6","_x7","_x8","_updateStudentExample","_callee3","_context3","then","Promise","resolve","resBody","reject","Object","objectSpread","status","createStudentExample","_x9","_x10","_x11","_x12","_x13","_createStudentExample","_callee4","_context4","backendUrl","getVocabFromBackend","_getVocabFromBackend","_callee5","fetchUrl","tableFromBackend","_context5","concat","sort","a","b","frequencyRank","catch","err","getExamplesFromBackend","_getExamplesFromBackend","_callee6","_context6","getLessonsFromBackend","_getLessonsFromBackend","_callee7","_context7","sortReference","getStudentsFromBackend","_getStudentsFromBackend","_callee8","_context8","ExampleRetriever","tables","useRef","vocab","_useState","useState","_useState2","slicedToArray","filteredVocab","setFilteredVocab","_useState3","_useState4","customSearchVocab","setCustomSearchVocab","_useState5","_useState6","noSpanglish","setNoSpanglish","_useState7","_useState8","shuffledSentences","setShuffledSentences","filteredExamples","_useState9","_useState10","displayExamples","setDisplayExamples","handleRetrieveSentencesOnClick","e","preventDefault","vocabArr","selectedLesson","target","firstChild","filter1","current","selectedLessonName","lessonsTable","selectedLessonSortNumber","firstRefIncluded","lesson","combinedLessonVocab","toConsumableArray","vocabIncluded","retrieveCombinedLessonVocab","filter","example","length","_step","_iterator","_createForOfIteratorHelper","s","n","done","includes","f","filter2","examplesTable","_step2","_iterator2","_step3","parameterVocab","_iterator3","exampleVocab","filterExamplesLenient","filterExamplesHelper","filter3","spanglish","filter4","arr","shuffledArr","i","newIndex","Math","floor","random","oldValue","shuffleArray","createLoadingList","loadingList","push","vocabName","_init","asyncToGenerator","ExampleRetriever_regeneratorRuntime","mark","splitArrA","numA","parseInt","pop","titleA","splitArrB","numB","titleB","useEffect","init","react_default","createElement","className","onClick","window","location","onSubmit","type","onChange","key","title","copiedText","englishTranslation","spanishExample","navigator","clipboard","writeText","checked","htmlFor","disabled","Menu","setStudentsTable","handleOnClick","pageName","URLSearchParams","search","get","linkStr","linkBase","href","Menu_regeneratorRuntime","queryParams","ut","stuTable","QuizInterface","currentIndex","setCurrentIndex","totalCompletedExamples","setTotalCompletedExamples","filteredStudentExamples","reviewIntervalIncrements","setReviewIntervalIncrements","showSpanish","setShowSpanish","todaysDate","Date","retrieveExamplesByStudent","filteredByStudentID","stuEx","relatedStudent","filteredByDateLogic","newDay","lastReviewedDate","setDate","getDate","pow","randomize20","QuizInterface_regeneratorRuntime","stuid","ex","relatedExample","recordId","reviewIntervalIncrement","changeCurrentIndex3","isIncrement","changeReviewIntervalIncrement","_changeReviewIntervalIncrement","_callee2","increment","newIncrement","updateInfo","_context2","toISOString","substring","prevState","newState","elem","toggleShowSpanish","handleKeyUp","keyCode","addEventListener","removeEventListener","style","textAlign","fontSize","padding","goBackToMenu","Fragment","color","bgColor","width","borderColor","backgroundColor","QuizInterfaceNoUpdate","QuizInterfaceNoUpdate_regeneratorRuntime","SRSBuilder","_useState11","_useState12","currentStudent","setCurrentStudent","_useState13","_useState14","selectAll","setSelectAll","setAllCheckboxes","isChecked","newDisplayExamples","selected","_handleAddChecked","SRSBuilder_regeneratorRuntime","hace2d","hace2dFormatted","_ref","exID","stuID","selectedSplitArr","selectedNum","selectedTitle","splitArr2","num2","SRSBuilder_createForOfIteratorHelper","filterSelected","rid","setOneCheckbox","fontWeight","handleAddChecked","student","hace10m","setMinutes","getMinutes","ridStyle","dateCreated","SimpleQuizApp","createStudentLoadingList","loadStatus","setloadStatus","quizReady","setQuizReady","examplesToReview","setExamplesToReview","currentExampleNumber","setCurrentExampleNumber","languageShowing","setLanguageShowing","playing","setPlaying","toggleQuizReady","_toggleLanguageShowing","SimpleQuizApp_regeneratorRuntime","filterByCurrentStudent","combinedTextStudentName","SimpleQuizApp_createForOfIteratorHelper","whichAudio","currentAudioUrl","display","randomizedQuizExamples","array","randomizedArray","vanishingArray","randIndex","randomArrayItem","splice","randomize","lib_default","src","App","dist","react_router_dist","exact","path","SRSBuilder_SRSBuilder","reportWebVitals","onPerfEntry","Function","__webpack_require__","bind","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","document","getElementById","render","StrictMode","src_App"],"mappings":"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","file":"static/js/main.0c54f483.chunk.js","sourcesContent":["export const qb = { // quickbaseTablesInfo\n    // This is where all the quickbase table names used to make queries are hardcoded & stored\n    // these are used whenenever a page needs to retrieve, update, or create data on quickbase database\n    studentExamples: {\n        name: 'student-examples',\n        id: 'br3juud42',\n        fields: ['Record ID#', 'Last Reviewed Date', 'Review Interval', 'Related Student', 'Related example', 'Date Created']\n    },\n    students: {\n        name: 'students',\n        id: 'brrtdx784',\n        fields: ['Record ID#', 'Name']\n    },\n    vocabulary: {\n        name: 'vocabulary',\n        id: 'brrcdgyix',\n        fields: ['word/idiom', 'Vocab Name', 'frequency rank']\n    },\n    examples: {\n        name: 'examples',\n        id: 'brrcdgyjw',\n        fields: ['Record ID#', 'spanish example', 'english translation', 'vocab included', 'spanglish?']\n    },\n    lessons: {\n        name: 'Lessons',\n        id: 'brrtcungb',\n        fields: ['Lesson', 'Vocab Included', 'Sort Reference']\n        //fields: ['Lesson']\n    }\n}\n\n\n","import { qb } from './QuickbaseTablesInfo';\n// These are all the functions needed to access the data on the quickbase database\n// These get called whenever a page needs to retrieve, update, or create data on quickbase\n// Every request to quickbase requires a header & a body, so there are functions dedicated to just creating the header or the body\n\n// creates headers needed for querying data from quickbase\n// this is pretty much the same for each quickbase request\nfunction createHeaders(userToken) {\n    const headers = {\n        'QB-Realm-Hostname': 'masterofmemory.quickbase.com',\n        'User-Agent': 'NickApp',\n        'Authorization': userToken,\n        'Content-Type': 'application/json'\n    }\n    return headers\n}\n\n// creates body needed for querying data from quickbase\n// (if there's ever a case where the tables has more columns than 25, the \"select\" array will need to be increased)\nfunction createBody(tableID) {\n    return {\n        \"from\": tableID,\n        \"select\": [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25],\n    }\n}\n\n// go thru each row of fields & print (mainly used for testing)  \nfunction printFields(json) { \n    console.log('Fields', json.fields)\n}\n\n// camelizes string and also removes special characters like #\n// for ex: converts 'Record ID#' to 'recordId', 'word/idiom' to 'wordIdiom', 'spanglish?' to 'spanglish'\nfunction camelize(str) {\n    const strArr = str.replaceAll(/[^\\w\\s]/gi, ' ')\n    const strArr2 = strArr.split(' ')\n    const camelArr = strArr2.map((word, index) => index === 0 ? word.toLowerCase(): word.charAt(0).toUpperCase() + word.slice(1).toLowerCase())\n    return camelArr.join('')\n}\n\n// creates object that maps fieldNames to their corresponding numbers on quickbase database\n// essentially linking the fields names to the number they are associated with on quickbase\nfunction createFieldsJSON(fieldNames, jsonFields) {\n    const newArr = fieldNames.map(fieldName => {\n        return {\n            name: camelize(fieldName),\n            number: jsonFields.find(element => element.label.toLowerCase() === fieldName.toLowerCase()).id\n        }\n    })\n    //console.log('createFieldsJSON: ', newArr)\n    return newArr\n}\n// old version, only worked with vocab\nfunction createTable(data, linksArr) {\n    //console.log('creatTable')\n    return data.map(element => {\n        const stringedJSON = '{' +  linksArr.map(link => { return ('\\\"' + link.name + '\\\"' + ':' + '\\\"' + element[link.number].value.replaceAll('\"', '\\\\\\\"') + '\\\"')}).join(', ') + '}'\n        //console.log('stringedJSON: ', stringedJSON)\n        const parsedJSON = JSON.parse(stringedJSON)\n        \n        //console.log('parsedJSON: ', parsedJSON)\n        return parsedJSON\n    })\n}\n// new improved version that differentiates btwn array & string\n// creates the table object from the quickbase table\nfunction createTable2(data, linksArr) {\n    //console.log('creatTable')\n    return data.map(element => {\n        const stringedJSON = '{' +  linksArr.map(link => { return ('\\\"' + link.name + '\\\"' + ':' + null)}).join(', ') + '}'\n        //console.log('stringedJSON: ', stringedJSON)\n        const parsedJSON = JSON.parse(stringedJSON)\n        \n        //console.log('parsedJSON: ', parsedJSON)\n        linksArr.forEach(link => {\n            parsedJSON[link.name] = element[link.number].value\n        });\n        //console.log('parsedJSON2: ', parsedJSON)\n        return parsedJSON\n    })\n}\n\n// creates & returns tables object, which is what all the pages, like Example Retriever, use to get data from\nexport async function fetchAndCreateTable(userToken, tableInitInfo) {\n    try {\n        const res = await fetch('https://api.quickbase.com/v1/records/query',\n        {\n        method: 'POST',\n        headers: createHeaders(userToken),\n        body: JSON.stringify(createBody(tableInitInfo.id))\n        })\n        if(res.ok) {\n            // if database is ASCII\n            const buffer = await res.arrayBuffer()\n            const decoder = new TextDecoder('ASCII')\n            const text = decoder.decode(buffer)\n            const json = JSON.parse(text)\n\n            //console.log('json: ', json)\n\n            printFields(json) // don't delete\n\n            const linkedFieldsToNumsArr = createFieldsJSON(tableInitInfo.fields, json.fields)\n            const tableArr = createTable2(json.data, linkedFieldsToNumsArr)\n            return tableArr\n        }\n    } catch (err) {\n        console.log(err)\n    }\n}\n\n// test func\nfunction createBodyForUpdateTest(tableID) {\n    return {\n        \"to\": tableID,\n        \"data\": [\n            {\n                \"3\": { \"value\": \"3\" },\n                \"7\": { \"value\": \"5\"}\n            }\n        ],\n        \"fieldsToReturn\": [3, 6, 7, 8, 9]\n    }\n}\n\n// test func\nexport async function testUpdate(userToken, tableInitInfo) {\n    try {\n        const res = await fetch('https://api.quickbase.com/v1/records',\n        {\n        method: 'POST',\n        headers: createHeaders(userToken),\n        body: JSON.stringify(createBodyForUpdateTest(tableInitInfo.id))\n        })\n        if(res.ok) {\n            return res.json().then(res => console.log(res))\n        }\n        return res.json().then(resBody => Promise.reject({status: res.status, ...resBody}))\n    } catch (err) {\n        console.log(err)\n    }\n}\n\n// 3: RecordID\n// 6: Last Review Date\n// 7: Review Interval\n// This is a COPY/PASTE/EDIT of createBody()\n// but is used for updating data on Student Examples table, instead of just retrieving data\n// called by updateStudentExample()\nfunction createBodyForUpdateStudentExample(recordID, lastReviewDate, reviewInterval, tableID) {\n    return {\n        \"to\": tableID,\n        \"data\": [\n            {\n                \"3\": { \"value\": recordID },\n                \"6\": { \"value\": lastReviewDate },\n                \"7\": { \"value\": reviewInterval }\n            }\n        ],\n        \"fieldsToReturn\": [3, 6, 7, 8, 9]\n    }\n}\n\n// This is a COPY/PASTE/EDIT of createBody()\n// but is used for creating data on Student Examples table, instead of just retrieving data\n// called by createStudentExample()\nfunction createBodyForCreateStudentExample(exampleID, studentID, lastReviewDate, reviewInterval, tableID) {\n    return {\n        \"to\": tableID,\n        \"data\": [\n            {\n                //\"3\": { \"value\": recordID },\n                \"6\": { \"value\": lastReviewDate },\n                \"7\": { \"value\": reviewInterval },\n                \"8\": { \"value\": studentID },\n                \"9\": { \"value\": exampleID }\n            }\n        ],\n        \"fieldsToReturn\": [3, 6, 7, 8, 9]\n    }\n}\n\n\n\n// This is a COPY/PASTE/EDIT of fetchAndCreateTable()\n// used by the SRS Quiz interface to update the review interval when user rates example\nexport async function updateStudentExample(recordID, lastReviewDate, reviewInterval, userToken) {\n    try {\n        const res = await fetch('https://api.quickbase.com/v1/records',\n        {\n        method: 'POST',\n        headers: createHeaders(userToken),\n        body: JSON.stringify(createBodyForUpdateStudentExample(recordID, lastReviewDate, reviewInterval, qb.studentExamples.id))\n        })\n        if(res.ok) {\n            //return res.json().then(res => console.log(res))\n            return res.json().then(res => Promise.resolve(res))\n        }\n        return res.json().then(resBody => Promise.reject({status: res.status, ...resBody}))\n    } catch (err) {\n        console.log(err)\n    }\n}\n\n// This is a COPY/PASTE/EDIT of fetchAndCreateTable()\n// used by the SRSBuilder.js, to add examples to the student examples table that will be used for the corresponding student in the SRS quiz interface.\nexport async function createStudentExample(exampleID, studentID, lastReviewDate, reviewInterval, userToken) {\n    try {\n        const res = await fetch('https://api.quickbase.com/v1/records',\n        {\n        method: 'POST',\n        headers: createHeaders(userToken),\n        body: JSON.stringify(createBodyForCreateStudentExample(exampleID, studentID, lastReviewDate, reviewInterval, qb.studentExamples.id))\n        })\n        if(res.ok) {\n            //return res.json().then(res => console.log(res))\n            return res.json().then(res => Promise.resolve(res))\n        }\n        return res.json().then(resBody => Promise.reject({status: res.status, ...resBody}))\n    } catch (err) {\n        console.log(err)\n    }\n}\n\n//const backendUrl = 'http://localhost:8000/'\nconst backendUrl = 'https://as-vocab-backend.herokuapp.com/'\n\nexport async function getVocabFromBackend() {\n    let fetchUrl = `${backendUrl}qb-vocabulary`\n\n    //console.log(`Fetching ${fetchUrl}`)\n\n    const tableFromBackend = await fetch(fetchUrl,{method:'GET'})\n    .then((res) => {\n        if(res.ok){\n            return res.json().then((res) => {\n                function sortFunction (a,b){\n                    if(a.frequencyRank > b.frequencyRank){\n                        return 1;\n                    }\n                    if(a.frequencyRank < b.frequencyRank){\n                        return -1;\n                    }\n                    return 0\n                }\n                const data = JSON.parse(res);\n                data.sort(sortFunction);\n                //console.log(data);\n                return data;\n            }) \n        }\n        \n    })\n    .catch(err => console.log(err))\n\n    return tableFromBackend\n    \n}\n\nexport async function getExamplesFromBackend() {\n    let fetchUrl = `${backendUrl}qb-examples`\n\n    //console.log(`Fetching ${fetchUrl}`)\n\n    const tableFromBackend = await fetch(fetchUrl,{method:'GET'})\n    .then((res) => {\n        if(res.ok){\n            return res.json().then((res) => {\n                const data = JSON.parse(res);\n                return data;\n            }) \n        }\n    })\n    .catch(err => console.log(err))\n    \n    return tableFromBackend;\n}\n\nexport async function getLessonsFromBackend() {\n    let fetchUrl = `${backendUrl}qb-lessons`\n\n    //console.log(`Fetching ${fetchUrl}`)\n\n    const tableFromBackend = await fetch(fetchUrl,{method:'GET'})\n    .then((res) => {\n        if(res.ok){\n            return res.json().then((res) => {\n                function sortFunction (a,b){\n                    if(a.sortReference > b.sortReference){\n                        return 1;\n                    }\n                    if(a.sortReference < b.sortReference){\n                        return -1;\n                    }\n                    return 0\n\n                }\n                const data = JSON.parse(res);\n                data.sort(sortFunction);\n                //console.log(data);\n                return data;\n            }) \n        }\n    })\n    .catch(err => console.log(err))\n    \n    return tableFromBackend;\n}\n\nexport async function getStudentsFromBackend() {\n    let fetchUrl = `${backendUrl}qb-students`\n\n    //console.log(`Fetching ${fetchUrl}`)\n\n    const tableFromBackend = await fetch(fetchUrl,{method:'GET'})\n    .then((res) => {\n        if(res.ok){\n            return res.json().then((res) => {\n                const data = JSON.parse(res);\n                //data.sort(sortFunction);\n                return data;\n            }) \n        }\n    })\n    .catch(err => console.log(err))\n    \n    return tableFromBackend;\n}","import React, {useState, useEffect, useRef} from 'react';\nimport { qb } from './QuickbaseTablesInfo';\nimport { fetchAndCreateTable, getVocabFromBackend, getExamplesFromBackend, getLessonsFromBackend} from './QuickbaseFetchFunctions';\nimport './App.css';\n\n// This script displays the Database Tool (Example Retriever), where coaches can lookup example sentences on the database by vocab word\nexport default function ExampleRetriever() {\n  // stores data of tables\n  const tables = useRef({ vocab: [], lessons: [] })\n  // vocab related variables\n  // array of suggested vocab that shows up under search bar & changes whenever a user types something in the search bar\n  const [filteredVocab, setFilteredVocab] = useState([])\n  // array of vocab that user builds, which is then used to filter example sentences\n  const [customSearchVocab, setCustomSearchVocab] = useState([])\n\n  // examples related variables\n  const [noSpanglish, setNoSpanglish] = useState(false)\n  const [shuffledSentences, setShuffledSentences] = useState(false)\n  // array of examples, stores the first part of the filtering\n  const filteredExamples = useRef([])\n  // array of examples that are displayed, does the 2nd part of the filtering\n  // it is split into 2 separate variables in order to avoid redundancy\n  const [displayExamples, setDisplayExamples] = useState([])\n\n  function goBackToMenu(e) {\n    e.preventDefault();\n    const link = '#/Menu/';\n    window.location=link;\n}\n\n  \n  // called when user clicks 'Retrieve Sentences' button on top right of page\n  // makes the page display the filtered example sentences on the bottom of page\n  function handleRetrieveSentencesOnClick(e) {\n    e.preventDefault() // prevents page from refreshing\n    const selectedLesson = e.target.firstChild.value // gets selected value in dropdown list of lessons\n    // if selected lesson is '' display all examples,\n    // else \n    const filter1 = selectedLesson === '' ? tables.current.examples : filterExamplesStrict(retrieveCombinedLessonVocab(selectedLesson, tables.current.lessons), tables.current.examples)\n    const filter2 = filterExamplesLenient(customSearchVocab, filter1)\n    filteredExamples.current = filter2\n    filterExamplesHelper()\n  }\n\n  // helper function called by handleRetrieveSentencesOnClick()\n  // returns an array of all lessons with same title and lower/equal lesson number\n  // for example: AS Lesson 3 will return ['AS Lesson 1', 'AS Lesson 2', 'AS Lesson 3']\n  /*function oldRetrieveCombinedLessonVocab(selectedLessonName, lessonsTable) {\n    const selectedSplitArr = selectedLessonName.split(' ');\n    const selectedCourseName = selectedSplitArr(0);\n  if(selectedCourseName === '2mc'){\n\n  } else {\n    const selectedNum = parseInt(selectedSplitArr.pop())\n    const selectedTitle = selectedSplitArr.join(' ')\n\n    let combinedLessonVocab = []\n    lessonsTable.forEach(lesson => {\n        const splitArr2 = lesson.lesson.split(' ')\n        const num2 = parseInt(splitArr2.pop())\n        if(lesson.lesson.includes(selectedTitle) && num2 <= selectedNum) {\n            combinedLessonVocab = [...combinedLessonVocab, ...lesson.vocabIncluded]\n        }\n    })\n    return combinedLessonVocab}\n  }*/\n\n  function retrieveCombinedLessonVocab (selectedLessonName, lessonsTable) {\n    let selectedLessonSortNumber;\n\n    lessonsTable.forEach((lesson) => {\n      if (lesson.lesson === selectedLessonName) {\n        selectedLessonSortNumber = lesson.sortReference\n      }\n    })\n\n    let firstRefIncluded\n    if (selectedLessonSortNumber > 12) {\n      firstRefIncluded = 13\n    } else {\n      firstRefIncluded = 1\n    }\n    let combinedLessonVocab = []\n    lessonsTable.forEach((lesson) => {\n      if(lesson.sortReference <= selectedLessonSortNumber && lesson.sortReference >= firstRefIncluded) {\n        combinedLessonVocab = [...combinedLessonVocab, ...lesson.vocabIncluded]\n    }\n    })\n    //console.log(combinedLessonVocab);\n    return combinedLessonVocab;\n  }\n\n  // helper function called by handleRetrieveSentencesOnClick()\n  // returns filtered array of examples by vocab with a strict filter\n  // meaning each example MUST include all vocab in vocabArr\n  function filterExamplesStrict(vocabArr, examplesTable) {\n    const filteredExamples = examplesTable.filter(example => {\n        if(example.vocabIncluded.length == 0) {\n            return false\n        }\n        for(const vocab of example.vocabIncluded) {\n            if(!vocabArr.includes(vocab)) {\n                return false\n            }\n        }\n        return true\n    })\n    return filteredExamples\n  }\n\n  // helper function called by handleRetrieveSentencesOnClick()\n  // returns filtered array of examples by vocab with a lenient filter\n  // meaning as long as the example contains at least one of the vocab in vocabArr, then the example will be in the returned array\n  function filterExamplesLenient(vocabArr, examplesTable) {\n      const filteredExamples = vocabArr.length === 0 ? examplesTable : examplesTable.filter(example => {\n          for(const parameterVocab of vocabArr) {\n              for(const exampleVocab of example.vocabIncluded) {\n                  if(exampleVocab.toLowerCase().includes(parameterVocab.toLowerCase())) {\n                      return true\n                  }\n              }\n          }\n          return false\n      })\n      return filteredExamples\n  }\n\n  // helper function called by handleRetrieveSentencesOnClick() & the 2nd useEffect() below\n  // checks if noSpanglish & shuffleSentences and then sets the displayExamples\n  function filterExamplesHelper() {\n    const filter2 = filteredExamples.current\n    const filter3 = noSpanglish ? filter2.filter(example => example.spanglish === 'esp') : filter2\n    const filter4 = shuffledSentences ? shuffleArray(filter3) : filter3\n    setDisplayExamples(filter4)\n  }\n\n  // helper function called by filterExamplesHelper()\n  // returns a shuffled array of examples array in parameter \n  function shuffleArray(arr) {       \n    const shuffledArr = [...arr]\n    for(let i = shuffledArr.length; i > 0; i--) {\n        const newIndex = Math.floor(Math.random() * (i - 1))\n        const oldValue = shuffledArr[newIndex]\n        shuffledArr[newIndex] = shuffledArr[i - 1]\n        shuffledArr[i - 1] = oldValue\n    }\n    return shuffledArr\n  }\n\n  // called when user clicks 'Copy as List' button\n  // copies sentences in a list format with all english sentences first & then all spanish sentences\n  function copySentences() {\n    const englishSentences = displayExamples.map(example => {\n        return example.englishTranslation\n    }).join('\\n')\n    const spanishSentences = displayExamples.map(example => {\n        return example.spanishExample\n    }).join('\\n')\n    //\n    const copiedText = englishSentences + '\\n\\n' + spanishSentences\n    navigator.clipboard.writeText(copiedText)\n  }\n\n  // called when user clicks 'Copy as Table' button\n  // copies sentences in a table format to be pasted into a google doc or excel sheet\n  function copyTable() {\n    const headers = 'Spanish\\tEnglish\\n'\n    const table = displayExamples.map(example => {\n        return example.spanishExample + '\\t' + example.englishTranslation\n    }).join('\\n')\n\n    const copiedText = headers + table\n    navigator.clipboard.writeText(copiedText)\n  }\n\n  function createLoadingList () {\n    const loadingList = []\n    for (let i=0;i < 20;i++) {\n      loadingList.push({vocabName: 'Loading Suggestions...'})\n    }\n    return loadingList;\n  }\n\n  // called by 1st useEffect(), when first loading the page\n  // gets user token & retrieves all table data & stores it into tables variable\n  // to set up all needed variables\n  async function init() {\n    // getting the user token\n    console.log('init called')\n    // retrieving the table data\n    setFilteredVocab(createLoadingList())\n    tables.current.vocab = await getVocabFromBackend();\n    \n    tables.current.examples = await getExamplesFromBackend();\n    \n    console.log('lessons fetching')\n    tables.current.lessons = await getLessonsFromBackend();\n    console.log('lessons fetched')\n    // this logic below sorts the lesssons in order by number\n    tables.current.lessons.sort((a, b)=>{\n      const splitArrA = a.lesson.split(' ')\n      const numA = parseInt(splitArrA.pop())\n      const titleA = splitArrA.join(' ')\n\n      const splitArrB = b.lesson.split(' ')\n      const numB = parseInt(splitArrB.pop())\n      const titleB = splitArrB.join(' ')\n      console.log('init finished')\n      return titleA === titleB ? numA - numB : titleA - titleB\n    })\n    //console.log('lessons')\n    //console.log(tables.current.lessons[12]);\n    setFilteredVocab(tables.current.vocab)\n  }\n\n  // called onced at the beginning\n  useEffect(() => {       \n    init() \n    //console.log(tables)       \n}, [tables])\n\n  // called everytime user clicks the checkbox for noSpanish or shuffleSentences\n  useEffect(() => {\n    if(tables.current.lessons.length !== 0) {\n    filterExamplesHelper()\n    }\n  }, [noSpanglish, shuffledSentences])\n\n  return <div>\n      <div className='div-header'>\n        <h1>Example Lookup</h1>\n        <div className='returnButton'><button onClick={goBackToMenu}>{'< Back to Menu'}</button></div>\n      </div>\n      <div className='div-vocab'>\n        {/* Top left section--------------------------------------------------------------------------- */}\n        <div className='div-vocab-left'>\n          <div className='div-vocab-left-header'>    \n            <form onSubmit={(e) => {\n              e.preventDefault()\n              setCustomSearchVocab([...customSearchVocab, e.target.firstChild.value])\n              e.target.firstChild.value = ''\n              setFilteredVocab(tables.current.vocab)\n            }}>    \n              <input className='search' type='text' onChange={(e)=>setFilteredVocab(tables.current.vocab.filter(vocab => vocab.vocabName.toLowerCase().includes(e.target.value.toLowerCase())))}></input>\n              <button className='add-to-search-query'>Add to Search {'>'} </button>\n            </form>\n          </div>\n          <ul className='suggestions'>\n            {filteredVocab.map((vocab, id) => {\n                return (<li key={id} onClick={(e) => setCustomSearchVocab([...customSearchVocab, vocab.vocabName])}>{vocab.vocabName}</li>)\n            })}\n          </ul>\n        </div>\n        {/* Top right section---------------------------------------------------------------------------- */}\n        <div className='div-vocab-right'>\n          <div className='div-vocab-right-header'>\n            <form onSubmit={(e)=>handleRetrieveSentencesOnClick(e)}>\n              <select className='lesson-select'>\n                <option value=''>No lesson filter</option>\n                {/*lessonTitleSelect.options.map((option, id) => (<option key={id} title={createLessonTitle(option)}>{option}</option>))*/\n                tables.current.lessons.map((lesson, id)=>(<option key={id} title={lesson.vocabIncluded.join('\\n')}>{lesson.lesson}</option>))\n                }\n                {console.log('rerendering lessons')}\n              </select>\n              <button className='retrieve-sentences'>Retrieve Sentences</button>\n            </form>\n          </div>\n          <div>\n            {customSearchVocab.map((vocab, id) => (<button key={id} className='custom-vocab' onClick={(e)=>setCustomSearchVocab(customSearchVocab.filter(vocab=>vocab!==e.target.value))} value={vocab}>{vocab}</button>))}\n          </div>\n        </div>\n      </div>\n      {/* Mid section with the copy buttons------------------------------------------------------------------ */}\n      <div className='div-examples-header'>\n        <div>\n          <button onClick={copySentences}>Copy as List</button>\n          <button onClick={copyTable}>Copy as Table</button>\n          <input type='checkbox' name='spanglishCheckbox' onChange={(e) => setNoSpanglish(e.target.checked)}></input><label htmlFor='spanglishCheckbox'>No Spanglish? </label>\n          <input type='checkbox' name='shuffledCheckbox'  onChange={(e) => setShuffledSentences(e.target.checked)}></input><label htmlFor='shuffledCheckbox'>Shuffle Sentences? </label>\n        </div>\n        <div>Num of Results: {displayExamples.length}</div>\n      </div>\n      {/* Bottom section with list of examples-------------------------------------------------------------- */}\n      <div className='div-examples'>\n        <table>\n          <thead>\n            <tr>\n              <th>Spanish</th>\n              <th>English</th>\n              <th>Vocab/Idioms</th>\n            </tr>\n          </thead>\n          <tbody>\n            { displayExamples.map((example, id) => {\n              return(<tr key={id}>\n                <td>{example.spanishExample}</td>\n                <td>{example.englishTranslation}</td>\n                <td>{example.vocabIncluded.map((vocab, id) => {\n                    return(<button key={id} className='vocab-included-button' disabled>{vocab}</button>)\n                })}</td>\n              </tr>)\n            })}\n          </tbody>\n        </table>\n      </div>\n  </div>;\n}\n","import React, {useState, useRef, useEffect} from 'react'\nimport { qb } from './QuickbaseTablesInfo';\nimport { fetchAndCreateTable } from './QuickbaseFetchFunctions';\nimport './App.css'\n\n// this script displays the Menu page, where user can access\n// - Database tool (Example Retriever)\n// - old Database tool\n// - SRS Builder\n// - SRS Quiz Platform (Quiz Interface)\n// - SRS Quiz Platform Version that does not update database\nexport default function Menu() {\n    //const tables = useRef({ students: [] })\n    const [studentsTable, setStudentsTable] = useState([])\n    const [currentStudent, setCurrentStudent] = useState(3)\n\n    // called whenever user clicks a button\n    // redirects user to appropriate page\n    function handleOnClick(pageName) {\n        const queryParams = new URLSearchParams(window.location.search)\n        const ut = queryParams.get('ut')\n        //const linkBase = 'http://localhost:3000'\n        const linkBase = 'https://classicalmoser.github.io/learncraft-spanish/'\n        const linkStr = linkBase + '#/' + pageName\n        //console.log(linkStr)\n        window.location.href = (\n            //'http://localhost:3000/',\n            linkStr\n        )\n    }\n\n    // called by useEffect() when loading\n    // gets user token & initializes tables data\n    async function init() {\n        const queryParams = new URLSearchParams(window.location.search)\n        const ut = queryParams.get('ut')\n        if (ut) {\n            const stuTable =  await fetchAndCreateTable(ut, qb.students)\n            setStudentsTable(stuTable)\n            console.log('students')\n        }\n      }\n    // called once in the beginning\n    useEffect(() => {       \n        init() \n        //console.log(tables)       \n    }, [])\n  return (\n    <div>\n        <div className='div-header'><h1>LearnCraft Spanish</h1></div>\n        <h2>App Options:</h2>\n        <div className= 'menu-buttons'>\n        <button onClick={()=>handleOnClick('ExampleRetriever')}>Example Lookup</button>\n        <button onClick={()=>handleOnClick('SimpleQuizApp')}>Quizzing App</button>\n        </div>\n    </div>\n  )\n}\n\n/*<h2>SRS Quiz Interface</h2>\n        <div className='div-examples-header'>\n        <div>\n            <select style={{'padding': '8px'}} value={currentStudent} onChange={(e)=>setCurrentStudent(parseInt(e.target.value))}>\n                {studentsTable.map((student, id) => (<option key={student.recordId} value={student.recordId}>{student.name}</option>))}\n            </select>\n            <button onClick={()=>handleOnClick('QuizInterface')} style={{'fontWeight': 'bold'}} title='This uses the SRS logic & will update the DB'>Interface with SRS Logic</button>\n            <button onClick={()=>handleOnClick('QuizInterfaceNoUpdate')} style={{'fontWeight': 'bold'}} title='This does not use the SRS logic & will not update the DB'>Interface only</button>\n        </div>\n        </div>*/\n","import React, {useState, useRef, useEffect, useCallback} from 'react'\nimport { qb } from './QuickbaseTablesInfo';\nimport { fetchAndCreateTable, updateStudentExample } from './QuickbaseFetchFunctions';\n\n// related student 8\n// related example 9\n// last reviewed date 6\n// review interval 7\n\n// This script displays the SRS Quiz Tool (Quiz Interface)\n// where user go throughs 20 example sentences & then rates their difficulty\nexport default function QuizInterface() {\n    const tables = useRef({ studentExamples: [], examples: [] })\n\n    const [currentIndex, setCurrentIndex] = useState(-1)\n    const [totalCompletedExamples, setTotalCompletedExamples] = useState(0)\n    const filteredStudentExamples = useRef([])\n    const [reviewIntervalIncrements, setReviewIntervalIncrements] = useState([])\n    const [showSpanish, setShowSpanish] = useState(false)\n    const todaysDate = new Date()\n\n    // get all the student examples that belong to student with studentID & that have last review date earlier than today's date - review interval squared\n    // called by init()\n    function retrieveExamplesByStudent(studentID, studentExamples, examples) {\n        const filteredByStudentID = studentExamples.filter(stuEx => stuEx.relatedStudent === studentID)\n        console.log('filteredByStudentID', filteredByStudentID)\n        const filteredByDateLogic = filteredByStudentID.filter(stuEx => {\n            const today = new Date()\n            const newDay = new Date(stuEx.lastReviewedDate)\n            newDay.setDate(newDay.getDate() + parseInt(Math.pow(2, stuEx.reviewInterval)))\n            return todaysDate >= newDay\n        })\n        console.log('filteredByDateLogic', filteredByDateLogic)\n        return filteredByDateLogic\n    }\n\n    // grabs the 1st 20 examples of shuffled array\n    // called by init()\n    function randomize20(studentExamples) {\n        return shuffleArray(studentExamples).filter((stuEx, index)=>index<20)\n        //return studentExamples\n    }\n\n    // returns a shuffled version of examples array passed in\n    // called by randomize20()\n    function shuffleArray(arr) {        \n        const shuffledArr = [...arr]   \n        for(let i = shuffledArr.length; i > 0; i--) {\n            const newIndex = Math.floor(Math.random() * (i - 1))\n            const oldValue = shuffledArr[newIndex]\n            shuffledArr[newIndex] = shuffledArr[i - 1]\n            shuffledArr[i - 1] = oldValue\n        }\n        return shuffledArr\n    }\n\n    // gets user token & retrieves table data\n    async function init() {\n        const queryParams = new URLSearchParams(window.location.search)\n        const ut = queryParams.get('ut')\n        let stuid = queryParams.get('stuid')\n        if(stuid === null) {\n            stuid = 2\n        } else {\n            stuid = parseInt(stuid)\n        }\n\n        console.log('stuid:  ', stuid)      \n        tables.current.studentExamples = await fetchAndCreateTable(ut, qb.studentExamples)\n        console.log('student examples')\n        tables.current.examples = await fetchAndCreateTable(ut, qb.examples)\n        console.log('example')\n        console.log('tables: ', tables.current)\n        filteredStudentExamples.current = randomize20(retrieveExamplesByStudent(stuid, tables.current.studentExamples, tables.current.examples))\n        console.log('length of filStuEx: ', filteredStudentExamples.current.length)\n\n        tables.current.examples.forEach(ex => \n            {\n                filteredStudentExamples.current.forEach(stuEx => {\n                    if(stuEx.relatedExample === ex.recordId) {\n                        stuEx.spanishExample = ex.spanishExample\n                        stuEx.englishTranslation = ex.englishTranslation\n                        stuEx.reviewIntervalIncrement = 0\n                    }\n                })\n            })\n        console.log('check', filteredStudentExamples.current)\n        if(filteredStudentExamples.current.length != 0) {\n            setReviewIntervalIncrements(filteredStudentExamples.current.map(stuEx => stuEx.reviewIntervalIncrement))\n            setCurrentIndex(0)\n            //window.addEventListener('keyup', handleKeyUp)\n        } else {\n            setCurrentIndex(-2)\n        }\n      }\n\n\n/*\n    // OLD Version not in use anymore\n    function changeCurrentIndexOLD(index, isIncrement) {\n        if(index <= totalCompletedExamples || isIncrement) {\n            setCurrentIndex(prevState => {\n                let newIndex = index\n                if(totalCompletedExamples < filteredStudentExamples.current.length) {\n                    if(newIndex < 0) {\n                        newIndex = totalCompletedExamples // filteredStudentExamples.current.length - 1\n                    } else if(newIndex > totalCompletedExamples && isIncrement) { //} filteredStudentExamples.current.length - 1) {\n                        newIndex = 0\n                    }\n                } else {\n                    if(newIndex < 0) {\n                        newIndex = totalCompletedExamples - 1\n                    } else if(newIndex > totalCompletedExamples - 1) { //} filteredStudentExamples.current.length - 1) {\n                        newIndex = 0\n                    }\n                }\n                return newIndex\n            })\n            if(reviewIntervalIncrements[index] === 0) {\n                setShowSpanish(false)\n            } else {\n                setShowSpanish(true)\n            }\n        }\n    }\n    // this previous function used to allow the user to loop to beginning when user moved past current limit before complete all questions\n    // but this functionality was removed\n    function changeCurrentIndex2(index, isIncrement) { \n        if(index <= totalCompletedExamples || isIncrement) {\n            let newIndex = index\n            const highestIndex = totalCompletedExamples < filteredStudentExamples.current.length ? totalCompletedExamples : totalCompletedExamples - 1\n            if(newIndex < 0) {\n                newIndex = highestIndex // filteredStudentExamples.current.length - 1\n            } else if(newIndex > highestIndex && isIncrement) { //} filteredStudentExamples.current.length - 1) {\n                newIndex = 0\n            }\n            setCurrentIndex(newIndex)\n            setShowSpanish(reviewIntervalIncrements[newIndex] !== 0)\n        }\n    }\n*/\n    // called when user clicks LEFT/RIGHT arrow key or clicks PREV/NEXT buttons or clicks on timeline\n    // switches the current example to previous or next\n    function changeCurrentIndex3(index, isIncrement) {\n        let newIndex = index\n        if(totalCompletedExamples == filteredStudentExamples.current.length) {\n            if(newIndex < 0) {\n                newIndex = filteredStudentExamples.current.length - 1\n            } else if(newIndex > filteredStudentExamples.current.length - 1) {\n                newIndex = 0\n            }\n            setCurrentIndex(newIndex)\n            setShowSpanish(reviewIntervalIncrements[newIndex] !== 0)\n        } else if(index <= totalCompletedExamples && index >= 0) {\n            setCurrentIndex(newIndex)\n            setShowSpanish(reviewIntervalIncrements[newIndex] !== 0)\n        }\n    }\n\n    // redirects user to menu page\n    // called when user clicks 'Return to Main Menu'\n    function goBackToMenu(e) {\n        e.preventDefault()\n        const queryParams = new URLSearchParams(window.location.search)\n        const ut = queryParams.get('ut')\n        const link = 'https://nicholas7238.github.io/asqb/?ut=' + ut + '#/Menu'\n        \n        window.location.href=link\n    }\n\n    // called when user clicks arrow UP/DOWN or Review More/Review Less buttons\n    // changes rating increment on quickbase database\n    async function changeReviewIntervalIncrement(increment) {     \n        console.log('old Inc: ', filteredStudentExamples.current[currentIndex].reviewIntervalIncrement)\n        const newIncrement = increment\n        console.log('new Inc: ', newIncrement)\n        \n        filteredStudentExamples.current[currentIndex].reviewIntervalIncrement = newIncrement // ?\n\n        // make the update here & if its works then continue with the set\n        const queryParams = new URLSearchParams(window.location.search)\n        const ut = queryParams.get('ut')\n        const recordId = filteredStudentExamples.current[currentIndex].recordId\n        // Last Review Date\n        const today = new Date()\n        console.log('today: ', todaysDate.toISOString().substring(0, 10))\n        const lastReviewedDate = todaysDate.toISOString().substring(0, 10)\n        console.log('tyu: ', filteredStudentExamples.current[currentIndex].lastReviewedDate)\n        //\n        const reviewInterval = filteredStudentExamples.current[currentIndex].reviewInterval + newIncrement < 0 ? 0 : filteredStudentExamples.current[currentIndex].reviewInterval + newIncrement\n        // console.log('update params: ', n, recordId, lastReviewedDate, reviewInterval)\n        // console.log('current: ', filteredStudentExamples.current[currentIndex])\n        try {\n            // This where you make call to quickbase api to update table in order to change last review data & review interval\n            const updateInfo = await updateStudentExample(recordId, lastReviewedDate, reviewInterval, ut)\n            console.log('updateInfo: ', updateInfo)\n\n            if(reviewIntervalIncrements[currentIndex] === 0) {\n                setTotalCompletedExamples(totalCompletedExamples + 1)\n            }\n\n            setReviewIntervalIncrements(prevState => {\n                const newState = prevState.map(elem=>elem)\n                newState[currentIndex] = newIncrement\n                return newState\n            })\n            setShowSpanish(true)\n        } catch(err) {\n            console.log(err)\n        }\n    }\n\n    // called when user clicks space, shift, or clicks on Show Spanish button\n    // shows or hides Spanish sentence\n    function toggleShowSpanish() {\n        setShowSpanish(prevState => !prevState)\n    }\n\n    // key input\n    function handleKeyUp(e) {\n        e.preventDefault()\n        switch(e.keyCode) {\n            case 37: // left\n                changeCurrentIndex3(currentIndex-1, true)\n                break\n            case 38: // up\n                changeReviewIntervalIncrement(-1)\n                break\n            case 39: // right\n                changeCurrentIndex3(currentIndex+1, true)\n                break\n            case 40: // down\n                changeReviewIntervalIncrement(1)\n                break\n            case 32: // space\n                toggleShowSpanish()\n                break\n            case 16: // shift\n                toggleShowSpanish()\n                break\n        }\n    }\n\n    useEffect(() => {       \n        init() \n    }, [tables])\n\n    useEffect(() => {\n        window.addEventListener('keyup', handleKeyUp)    \n        return () => window.removeEventListener('keyup', handleKeyUp)\n    }, [currentIndex, reviewIntervalIncrements])\n\n    return (\n        <div className='quizInterface'>\n            <div style={{ textAlign: 'left' }} className='returnButton'><button style={{ fontSize: 'large', padding: '10px'}} onClick={(e) => goBackToMenu(e)}>Return to Main Menu</button></div>\n            {   \n                currentIndex === -1 ? (<div>Loading...</div>) : currentIndex < -1 ? (<div>There are no new practice sentences today</div>) : \n            <>\n            {/* Progress Bar */}\n            <div className='progressBarContainer'>\n                {/* <div className='progressBar'>\n                    <div style={{width: (100 * (currentIndex+1) / filteredStudentExamples.current.length) + '%'}} className='progress'>.</div>\n                </div> */}\n                <div className='progressBar2'>\n                    {filteredStudentExamples.current.map((stuEx, index) => {\n                        const color = index === currentIndex ? 'white' : 'black'\n                        let bgColor = reviewIntervalIncrements[index] === -1 ? 'crimson' : (reviewIntervalIncrements[index] === 1 ? 'lime' : (index === totalCompletedExamples ? 'slateGrey' : 'grey'))\n                        //console.log('revIntIncs: ', reviewIntervalIncrements)\n                        \n                        return(<div key={index} style={{width: (100 / filteredStudentExamples.current.length) - 1 + '%', borderColor: color, color: color, backgroundColor: bgColor}} className='progressBox' onClick={()=>changeCurrentIndex3(index, false)}>{index + 1}</div>)\n                    })}\n                    \n                </div>\n                <div className='progressBarDescription'>{totalCompletedExamples} of {filteredStudentExamples.current.length} completed</div>\n                {/* totalCompletedExamples == filteredStudentExamples.current.length ? (<button style={{ fontSize: 'large', padding: '10px' }} onClick={(e) => goBackToMenu(e)}>Return to Main Menu</button>) : (<div></div>) */}\n            </div>\n            \n            {/* English Example */}\n            <div className='englishTranslation'>{filteredStudentExamples.current[currentIndex].englishTranslation}</div>\n            {/* Spanish Example */}\n            <div className='spanishExample' onClick={()=>toggleShowSpanish()}>\n            { !showSpanish ? 'Show Spanish' : \n            filteredStudentExamples.current[currentIndex].spanishExample}\n            </div>\n\n            {/* Bottom buttons: Prev, Next, Review More, Review Less */}\n            <div className='buttonsContainer'>\n                <div><button className='buttonReviewMore' onClick={()=>changeReviewIntervalIncrement(-1)}>Review More ^</button></div>\n                <div>\n                    <button onClick={()=>changeCurrentIndex3(currentIndex-1, true)}>{'<-- Prev'}</button>\n                    {/* <button onClick={()=>handleReviewButton(-1)}>Review More ^</button> */}\n                    <button className='buttonReviewLess' onClick={()=>changeReviewIntervalIncrement(1)}>Review Less v</button>\n                    <button onClick={()=>changeCurrentIndex3(currentIndex+1, true)}>{'Next -->'}</button>\n                </div>\n            </div>\n            </>\n            }\n        </div>\n    )\n}\n","import React, {useState, useRef, useEffect, useCallback} from 'react'\nimport { qb } from './QuickbaseTablesInfo';\nimport { fetchAndCreateTable, updateStudentExample } from './QuickbaseFetchFunctions';\n\n// related student 8\n// related example 9\n// last reviewed date 6\n// review interval 7\n\n\n// This is a COPY/PASTE/EDIT of QuizInterface.js\n// the key differences are that this interface does not update the quickbase database when rating\n// and ignores the SRS logic & instead just randomly chooses 20 random questions regardless of the last review date.\n// changeCurrentIndex3() & retrieveExamplesByStudent() are the only different functions\nexport default function QuizInterfaceNoUpdate() {\n    const tables = useRef({ studentExamples: [], examples: [] })\n\n    const [currentIndex, setCurrentIndex] = useState(-1)\n    const [totalCompletedExamples, setTotalCompletedExamples] = useState(0)\n    const filteredStudentExamples = useRef([])\n    const [reviewIntervalIncrements, setReviewIntervalIncrements] = useState([])\n    const [showSpanish, setShowSpanish] = useState(false)\n    const todaysDate = new Date()\n\n    // this version retrieves a random set of 20, ignoring the last review date & SRS Logic\n    function retrieveExamplesByStudent(studentID, studentExamples, examples) {\n        const filteredByStudentID = studentExamples.filter(stuEx => stuEx.relatedStudent === studentID)\n        console.log('filteredByStudentID', filteredByStudentID)\n        const filteredByDateLogic = filteredByStudentID.filter(stuEx => {\n            const today = new Date()\n            const newDay = new Date(stuEx.lastReviewedDate)\n            newDay.setDate(newDay.getDate() + parseInt(Math.pow(2, stuEx.reviewInterval)))\n            return todaysDate >= newDay\n        })\n        console.log('filteredByDateLogic', filteredByDateLogic)\n        return filteredByStudentID // This is what causes the interface to ignore logic\n        return filteredByDateLogic\n    }\n\n    function randomize20(studentExamples) {\n        return shuffleArray(studentExamples).filter((stuEx, index)=>index<20)\n        //return studentExamples\n    }\n\n    function shuffleArray(arr) {        \n        const shuffledArr = [...arr]\n    \n        for(let i = shuffledArr.length; i > 0; i--) {\n            const newIndex = Math.floor(Math.random() * (i - 1))\n            const oldValue = shuffledArr[newIndex]\n            shuffledArr[newIndex] = shuffledArr[i - 1]\n            shuffledArr[i - 1] = oldValue\n        }\n    \n        return shuffledArr\n      }\n\n\n\n\n    async function init() { // gets user token & creates the student examples table\n        const queryParams = new URLSearchParams(window.location.search)\n        const ut = queryParams.get('ut')\n        let stuid = queryParams.get('stuid')\n        if(stuid === null) {\n            stuid = 2\n        } else {\n            stuid = parseInt(stuid)\n        }\n\n        console.log('stuid:  ', stuid)\n        \n        tables.current.studentExamples = await fetchAndCreateTable(ut, qb.studentExamples)\n        console.log('student examples')\n        tables.current.examples = await fetchAndCreateTable(ut, qb.examples)\n        console.log('example')\n\n        console.log('tables: ', tables.current)\n\n        filteredStudentExamples.current = randomize20(retrieveExamplesByStudent(stuid, tables.current.studentExamples, tables.current.examples))\n        console.log('length of filStuEx: ', filteredStudentExamples.current.length)\n\n        tables.current.examples.forEach(ex => \n            {\n                filteredStudentExamples.current.forEach(stuEx => {\n                    if(stuEx.relatedExample === ex.recordId) {\n                        stuEx.spanishExample = ex.spanishExample\n                        stuEx.englishTranslation = ex.englishTranslation\n                        stuEx.reviewIntervalIncrement = 0\n                    }\n                })\n            })\n        console.log('check', filteredStudentExamples.current)\n        if(filteredStudentExamples.current.length != 0) {\n            setReviewIntervalIncrements(filteredStudentExamples.current.map(stuEx => stuEx.reviewIntervalIncrement))\n            setCurrentIndex(0)\n            //window.addEventListener('keyup', handleKeyUp)\n        } else {\n            setCurrentIndex(-2)\n        }\n      }\n\n\n    // LEFT RIGHT arrow key\n    function changeCurrentIndex3(index, isIncrement) {\n        let newIndex = index\n        if(totalCompletedExamples == filteredStudentExamples.current.length) {\n            if(newIndex < 0) {\n                newIndex = filteredStudentExamples.current.length - 1\n            } else if(newIndex > filteredStudentExamples.current.length - 1) {\n                newIndex = 0\n            }\n            setCurrentIndex(newIndex)\n            setShowSpanish(reviewIntervalIncrements[newIndex] !== 0)\n        } else if(index <= totalCompletedExamples && index >= 0) {\n            setCurrentIndex(newIndex)\n            setShowSpanish(reviewIntervalIncrements[newIndex] !== 0)\n        }\n    }\n\n    function goBackToMenu(e) { // actually should be named go back to main menu\n        e.preventDefault()\n        const queryParams = new URLSearchParams(window.location.search)\n        const ut = queryParams.get('ut')\n        const link = 'https://nicholas7238.github.io/asqb/?ut=' + ut + '#/Menu'\n        \n        window.location.href=link\n    }\n\n    // arrow UP & DOWN\n    // does not update quickbase database\n    async function changeReviewIntervalIncrement(increment) {\n        \n        console.log('old Inc: ', filteredStudentExamples.current[currentIndex].reviewIntervalIncrement)\n        const newIncrement = increment\n\n        console.log('new Inc: ', newIncrement)\n        \n        filteredStudentExamples.current[currentIndex].reviewIntervalIncrement = newIncrement \n\n        // make the update here & if its works then continue with the set\n        const queryParams = new URLSearchParams(window.location.search)\n        const ut = queryParams.get('ut')\n        const n = filteredStudentExamples.current[currentIndex].reviewIntervalIncrement\n        const recordId = filteredStudentExamples.current[currentIndex].recordId\n        // Last Review Date\n        const today = new Date()\n        console.log('today: ', todaysDate.toISOString().substring(0, 10))\n        const lastReviewedDate = todaysDate.toISOString().substring(0, 10)\n        //const lastReviewedDate = filteredStudentExamples.current[currentIndex].lastReviewedDate\n        console.log('tyu: ', filteredStudentExamples.current[currentIndex].lastReviewedDate)\n        //\n        const reviewInterval = filteredStudentExamples.current[currentIndex].reviewInterval + newIncrement < 0 ? 0 : filteredStudentExamples.current[currentIndex].reviewInterval + newIncrement\n        // console.log('update params: ', n, recordId, lastReviewedDate, reviewInterval)\n        // console.log('current: ', filteredStudentExamples.current[currentIndex])\n        try {\n            // This is the code that would update quickbase database\n            //const updateInfo = await updateStudentExample(recordId, lastReviewedDate, reviewInterval, ut)\n            //console.log('updateInfo: ', updateInfo)\n\n            if(reviewIntervalIncrements[currentIndex] === 0) {\n                setTotalCompletedExamples(totalCompletedExamples + 1)\n            }\n\n            setReviewIntervalIncrements(prevState => {\n                const newState = prevState.map(elem=>elem)\n                newState[currentIndex] = newIncrement\n                return newState\n            })\n            setShowSpanish(true)\n        } catch(err) {\n            console.log(err)\n        }\n    }\n\n\n    function toggleShowSpanish() {\n        setShowSpanish(prevState => !prevState)\n    }\n\n    function handleKeyUp(e) {\n        e.preventDefault()\n        switch(e.keyCode) {\n            case 37: // left\n                changeCurrentIndex3(currentIndex-1, true)\n                break\n            case 38: // up\n                changeReviewIntervalIncrement(-1)\n                //setShowSpanish(true)\n                break\n            case 39: // right\n                changeCurrentIndex3(currentIndex+1, true)\n                break\n            case 40: // down\n                changeReviewIntervalIncrement(1)\n                //setShowSpanish(true)\n                break\n            case 32: // space\n                toggleShowSpanish()\n                break\n            case 13: // enter does not work\n                break\n            case 16: // shift\n                toggleShowSpanish()\n                break\n        }\n    }\n\n    useEffect(() => {       \n        init() \n    }, [tables])\n\n    useEffect(() => {\n        window.addEventListener('keyup', handleKeyUp)    \n        return () => window.removeEventListener('keyup', handleKeyUp)\n    }, [currentIndex, reviewIntervalIncrements])\n\n    return (\n        <div className='quizInterface' style={{'backgroundColor': '#033'}}>\n            \n            <div style={{ textAlign: 'left' }} className='returnButton'><button style={{ fontSize: 'large', padding: '10px'}} onClick={(e) => goBackToMenu(e)}>Return to Main Menu</button></div>\n            \n            {   \n                currentIndex === -1 ? (<div>Loading...</div>) : currentIndex < -1 ? (<div>There are no new practice sentences today</div>) : \n            <>\n            <div className='progressBarContainer'>\n                {/* <div className='progressBar'>\n                    <div style={{width: (100 * (currentIndex+1) / filteredStudentExamples.current.length) + '%'}} className='progress'>.</div>\n                </div> */}\n                <div className='progressBar2'>\n                    {filteredStudentExamples.current.map((stuEx, index) => {\n                        const color = index === currentIndex ? 'white' : 'black'\n                        let bgColor = reviewIntervalIncrements[index] === -1 ? 'crimson' : (reviewIntervalIncrements[index] === 1 ? 'lime' : (index === totalCompletedExamples ? 'slateGrey' : 'grey'))\n                        //console.log('revIntIncs: ', reviewIntervalIncrements)\n                        \n                        return(<div key={index} style={{width: (100 / filteredStudentExamples.current.length) - 1 + '%', borderColor: color, color: color, backgroundColor: bgColor}} className='progressBox' onClick={()=>changeCurrentIndex3(index, false)}>{index + 1}</div>)\n                    })}\n                    \n                </div>\n                <div className='progressBarDescription'>{totalCompletedExamples} of {filteredStudentExamples.current.length} completed</div>\n                {/* totalCompletedExamples == filteredStudentExamples.current.length ? (<button style={{ fontSize: 'large', padding: '10px' }} onClick={(e) => goBackToMenu(e)}>Return to Main Menu</button>) : (<div></div>) */}\n            </div>\n            \n            <div className='englishTranslation'>{filteredStudentExamples.current[currentIndex].englishTranslation}</div>\n            \n\n            <div className='spanishExample' onClick={()=>toggleShowSpanish()}>\n            { !showSpanish ? 'Show Spanish' : \n            filteredStudentExamples.current[currentIndex].spanishExample}\n            </div>\n            \n            <div className='buttonsContainer'>\n                <div><button className='buttonReviewMore' onClick={()=>changeReviewIntervalIncrement(-1)}>Review More ^</button></div>\n                <div>\n                    <button onClick={()=>changeCurrentIndex3(currentIndex-1, true)}>{'<-- Prev'}</button>\n                    {/* <button onClick={()=>handleReviewButton(-1)}>Review More ^</button> */}\n                    <button className='buttonReviewLess' onClick={()=>changeReviewIntervalIncrement(1)}>Review Less v</button>\n                    <button onClick={()=>changeCurrentIndex3(currentIndex+1, true)}>{'Next -->'}</button>\n                </div>\n            </div>\n            </>\n            }\n        </div>\n    )\n}\n","import React, {useState, useEffect, useRef} from 'react';\nimport { qb } from './QuickbaseTablesInfo';\nimport { fetchAndCreateTable, createStudentExample } from './QuickbaseFetchFunctions';\nimport './SRSBuilder.css'\n\n// This is a COPY/PASTE/EDIT of ExampleRetriever.js\n// The new functions are:\n// - setAllCheckedboxes()\n// - setOneCheckedbox()\n// - handleAddCheck()\n//\n// init() & the return <div> are also slighly different from ExampleRetriever.js's\n//\n// This script displays the SRS Builder, which is what user uses to add more examples to be used in SRS quiz tool\nexport default function SRSBuilder() {\n  const tables = useRef({ vocab: [], lessons: [], students: [], studentExamples: [] })\n  // vocab\n  const [filteredVocab, setFilteredVocab] = useState([])\n  const [customSearchVocab, setCustomSearchVocab] = useState([])\n  // examples\n  const [noSpanglish, setNoSpanglish] = useState(false)\n  const [shuffledSentences, setShuffledSentences] = useState(false)\n  const filteredExamples = useRef([])\n  const [displayExamples, setDisplayExamples] = useState([])\n\n  const [currentStudent, setCurrentStudent] = useState(3)\n  const [selectAll, setSelectAll] = useState(false)\n\n\n\n\n\n\n  function setAllCheckboxes(isChecked) {\n    const newDisplayExamples = displayExamples.map(ex=>{\n      ex.selected = isChecked\n      return ex\n    })\n    setSelectAll(!selectAll)\n    setDisplayExamples(newDisplayExamples)\n  }\n\n  function setOneCheckbox(isChecked, rid) {\n    const newDisplayExamples = displayExamples.map(ex=>{\n      ex.selected = ex.recordId === rid ? !ex.selected : ex.selected\n      return ex\n    })\n    if(selectAll) {\n      setSelectAll(false)\n    }\n    setDisplayExamples(newDisplayExamples)\n  }\n\n  // called when clicking 'Added checked sentences to student's SRS list' button\n  // creates new entry on student examples for every checked example for corresponding student\n  // also checks if example already exists, so it does not create duplicate\n  async function handleAddChecked() {\n    // console.log('display exs: ', displayExamples.map(ex=>ex.selected))\n    // const hace10m = new Date()\n    // hace10m.setMinutes(hace10m.getMinutes() - 10)\n    // if(hace10m < 0) {\n    //   //style is red\n    // }\n    // const today = new Date()\n    // console.log('today', today)\n    // today.setMinutes(today.getMinutes() - 10)\n    // console.log('today - 10', today)\n    // const day2 = tables.current.studentExamples[0].dateCreated\n    // const day3 = new Date(day2)\n    // console.log('day2: ', day2)\n    // console.log('day3: ', day3)\n    // const d4 = day3 + 100\n    // console.log('d4: ', d4)\n\n    // console.log('if: ', day3 < today)\n    // //newDay.setDate(newDay.getDate() + parseInt(Math.pow(2, stuEx.reviewInterval)))\n    // //return todaysDate >= newDay\n\n\n\n    //\n    const queryParams = new URLSearchParams(window.location.search)\n    const ut = queryParams.get('ut')\n\n    const hace2d = new Date()\n    hace2d.setDate(hace2d.getDate() - 2)\n    console.log('hace2d: ', hace2d)\n    const hace2dFormatted = hace2d.toISOString().substring(0, 10)\n    console.log('hace2dFormatted: ', hace2dFormatted)\n    await displayExamples.forEach(async (ex)=>{\n      if(ex.selected) {\n        \n        const exID = ex.recordId\n        const stuID = currentStudent\n        const lastReviewedDate = hace2dFormatted // yesterday's date\n        const reviewInterval = 0\n        console.log(exID, stuID, lastReviewedDate, reviewInterval)\n        if(tables.current.studentExamples.find(stuEx=>(stuEx.relatedExample===exID && stuEx.relatedStudent===stuID))) {\n          //\n          console.log('found')\n        } else {\n          console.log('not found')\n        \n          \n          //  \n          try {\n            const updateInfo = await createStudentExample(exID, stuID, lastReviewedDate, reviewInterval, ut)\n            console.log('updateInfo: ', updateInfo)\n            setAllCheckboxes(false)\n            setSelectAll(false)\n          } catch(err) {\n            console.log(err)\n          }\n        }\n      }\n    })\n  }\n\n\n\n  function retrieveCombinedLessonVocab(selectedLessonName, lessonsTable) {\n    const selectedSplitArr = selectedLessonName.split(' ')\n    const selectedNum = parseInt(selectedSplitArr.pop())\n    const selectedTitle = selectedSplitArr.join(' ')\n\n    let combinedLessonVocab = []\n    lessonsTable.forEach(lesson => {\n        const splitArr2 = lesson.lesson.split(' ')\n        const num2 = parseInt(splitArr2.pop())\n        if(lesson.lesson.includes(selectedTitle) && num2 <= selectedNum) {\n            combinedLessonVocab = [...combinedLessonVocab, ...lesson.vocabIncluded]\n        }\n    })\n    return combinedLessonVocab\n  }\n\n  function handleRetrieveSentencesOnClick(e) {\n    e.preventDefault()\n    const selectedLesson = e.target.firstChild.value\n    const filter1 = selectedLesson === '' ? tables.current.examples : filterExamplesStrict(retrieveCombinedLessonVocab(selectedLesson, tables.current.lessons), tables.current.examples)\n    const filter2 = filterExamplesLenient(customSearchVocab, filter1)\n    filteredExamples.current = filter2\n    filterExamplesHelper()\n  }\n\n  // checks if noSpanglish & shuffleSentences and then sets the displayExamples\n  function filterExamplesHelper() {\n    const filter2 = filteredExamples.current\n    const filter3 = noSpanglish ? filter2.filter(example => example.spanglish === 'esp') : filter2\n    const filter4 = shuffledSentences ? shuffleArray(filter3) : filter3\n    const filterSelected = filter4.map(ex=>{\n      ex.selected = false\n      return ex\n    })\n    console.log('filter selected: ', filterSelected)\n    setDisplayExamples(filterSelected)\n  }\n\n  function filterExamplesStrict(vocabArr, examplesTable) {\n    const filteredExamples = examplesTable.filter(example => {\n        if(example.vocabIncluded.length == 0) {\n            return false\n        }\n        for(const vocab of example.vocabIncluded) {\n            if(!vocabArr.includes(vocab)) {\n                return false\n            }\n        }\n        return true\n    })\n    return filteredExamples\n  }\n\n  function filterExamplesLenient(vocabArr, examplesTable) {\n      const filteredExamples = vocabArr.length === 0 ? examplesTable : examplesTable.filter(example => {\n          for(const parameterVocab of vocabArr) {\n              for(const exampleVocab of example.vocabIncluded) {\n                  if(exampleVocab.toLowerCase().includes(parameterVocab.toLowerCase())) {\n                      return true\n                  }\n              }\n          }\n          return false\n      })\n      return filteredExamples\n  }\n\n  function shuffleArray(arr) {        \n    const shuffledArr = [...arr]\n\n    for(let i = shuffledArr.length; i > 0; i--) {\n        const newIndex = Math.floor(Math.random() * (i - 1))\n        const oldValue = shuffledArr[newIndex]\n        shuffledArr[newIndex] = shuffledArr[i - 1]\n        shuffledArr[i - 1] = oldValue\n    }\n\n    return shuffledArr\n  }\n\n  function copySentences() {\n    const englishSentences = displayExamples.map(example => {\n        return example.englishTranslation\n    }).join('\\n')\n    const spanishSentences = displayExamples.map(example => {\n        return example.spanishExample\n    }).join('\\n')\n    //\n    const copiedText = englishSentences + '\\n\\n' + spanishSentences\n\n    //console.log(englishSentences)\n    navigator.clipboard.writeText(copiedText)\n  }\n\n  function copyTable() {\n    const headers = 'Spanish\\tEnglish\\n'\n    const table = displayExamples.map(example => {\n        return example.spanishExample + '\\t' + example.englishTranslation\n    }).join('\\n')\n\n    const copiedText = headers + table\n    navigator.clipboard.writeText(copiedText)\n  }\n\n\n\n  async function init() { // gets user token & creates the student examples table\n    const queryParams = new URLSearchParams(window.location.search)\n    const ut = queryParams.get('ut')\n\n    tables.current.students = await fetchAndCreateTable(ut, qb.students)\n    console.log('students')\n    tables.current.studentExamples = await fetchAndCreateTable(ut, qb.studentExamples)\n    console.log('student examples')\n    tables.current.vocab = await fetchAndCreateTable(ut, qb.vocabulary)\n    console.log('vocab')\n    tables.current.examples = await fetchAndCreateTable(ut, qb.examples)\n    console.log('example')\n    tables.current.lessons = await fetchAndCreateTable(ut, qb.lessons)\n    tables.current.lessons.sort((a, b)=>{\n      const splitArrA = a.lesson.split(' ')\n      const numA = parseInt(splitArrA.pop())\n      const titleA = splitArrA.join(' ')\n\n      const splitArrB = b.lesson.split(' ')\n      const numB = parseInt(splitArrB.pop())\n      const titleB = splitArrB.join(' ')\n\n      return titleA === titleB ? numA - numB : titleA - titleB\n    })\n    console.log('lessons')\n    //console.log('lessons: ', tables.current.lessons)\n    setFilteredVocab(tables.current.vocab)\n\n    //const lessons = [{name:'SI1M Lesson', length: 20}, {name:'AS Lesson', length: 12}]\n\n    //setLessonTitleSelect(createLessonsSelectOptions(lessons))\n\n    //const lessonsSelectOptions = createLessonsSelectOptions()\n\n    console.log(tables)\n  }\n\n  useEffect(() => {       \n    init() \n    //console.log(tables)       \n}, [tables])\n\n  useEffect(() => {\n    if(tables.current.lessons.length !== 0) {\n    filterExamplesHelper()\n    }\n  }, [noSpanglish, shuffledSentences])\n\n  return <div>\n      <div className='div-header'><h1 style={{'backgroundColor': 'darkCyan'}}>SRS Builder</h1></div>\n      <div className='div-vocab'>\n        {/* Top Left - Vocab search bar section */}\n        <div className='div-vocab-left'>\n          <div className='div-vocab-left-header'>    \n            <form onSubmit={(e) => {\n              e.preventDefault()\n              setCustomSearchVocab([...customSearchVocab, e.target.firstChild.value])\n              e.target.firstChild.value = ''\n              setFilteredVocab(tables.current.vocab)\n            }}>    \n              <input className='search' type='text' onChange={(e)=>setFilteredVocab(tables.current.vocab.filter(vocab => vocab.vocabName.toLowerCase().includes(e.target.value.toLowerCase())))}></input>\n              <button className='add-to-search-query'>Add to Search Query {'>>'} </button>\n            </form>\n          </div>\n          <ul className='suggestions'>\n            {filteredVocab.map((vocab, id) => {\n                return (<li key={id} onClick={(e) => setCustomSearchVocab([...customSearchVocab, vocab.vocabName])}>{vocab.vocabName}</li>)\n            })}\n          </ul>\n        </div>\n        {/* Top Right - Lesson filter & Retrieve Sentences Button section */}\n        <div className='div-vocab-right'>\n          <div className='div-vocab-right-header'>\n            <form onSubmit={(e)=>handleRetrieveSentencesOnClick(e)}>\n              <select className='lesson-select'>\n                <option value=''>No lesson filter</option>\n                {/*lessonTitleSelect.options.map((option, id) => (<option key={id} title={createLessonTitle(option)}>{option}</option>))*/\n                tables.current.lessons.map((lesson, id)=>(<option key={id} title={lesson.vocabIncluded.join('\\n')}>{lesson.lesson}</option>))\n                }\n              </select>\n              <button className='retrieve-sentences'>Retrieve Sentences</button>\n            </form>\n          </div>\n          <div>\n            {customSearchVocab.map((vocab, id) => (<button key={id} className='custom-vocab' onClick={(e)=>setCustomSearchVocab(customSearchVocab.filter(vocab=>vocab!==e.target.value))} value={vocab}>{vocab}</button>))}\n          </div>\n        </div>\n      </div>\n      {/* Middle - Example List */}\n      <div className='div-examples-header'>\n        <div>\n          <button onClick={copySentences}>Copy as List</button>\n          <button onClick={copyTable}>Copy as Table</button>\n          <input type='checkbox' name='spanglishCheckbox' onChange={(e) => setNoSpanglish(e.target.checked)}></input><label htmlFor='spanglishCheckbox'>No Spanglish? </label>\n          <input type='checkbox' name='shuffledCheckbox'  onChange={(e) => setShuffledSentences(e.target.checked)}></input><label htmlFor='shuffledCheckbox'>Shuffle Sentences? </label>\n        </div>\n        \n        <div>Num of Results: {displayExamples.length}</div>\n      </div>\n      <div className='div-examples'>\n        <table>\n          <thead>\n            <tr>\n                <th><input type='checkbox' onChange={(e)=>setAllCheckboxes(e.target.checked)} checked={selectAll}></input></th>\n              <th>Spanish</th>\n              <th>English</th>\n              <th>Vocab/Idioms</th>\n            </tr>\n          </thead>\n          <tbody>\n            { displayExamples.map((example, id) => {\n              return(<tr key={id}>\n                  {/* {example.selected?(<td><input type='checkbox' onChange={(e)=>setOneCheckbox(e.target.checked, example.recordId)} checked></input></td>):<td><input type='checkbox' onChange={(e)=>setOneCheckbox(e.target.checked, example.recordId)}></input></td>} */}\n                  <td><input type='checkbox' onChange={(e)=>setOneCheckbox(e.target.checked, example.recordId)} checked={example.selected}></input></td>\n                <td>{example.spanishExample}</td>\n                <td>{example.englishTranslation}</td>\n                <td>{example.vocabIncluded.map((vocab, id) => {\n                    return(<button key={id} className='vocab-included-button' disabled>{vocab}</button>)\n                })}</td>\n              </tr>)\n            })}\n          </tbody>\n        </table>\n      </div>\n      <div>_</div>\n      {/* Bottom - Student's examples section */}\n      <div className='div-examples-header'>\n          <div>\n          <button style={{'fontWeight': 'bold'}} onClick={()=>handleAddChecked()}>Add checked sentences to student's SRS list</button>\n          {/* <label style={{'fontSize': 'larger', 'color': 'darkCyan', 'fontWeight': 'bold'}}>SRS sentences of Student: </label> */}\n          <select style={{'padding': '8px'}} value={currentStudent} onChange={(e)=>setCurrentStudent(parseInt(e.target.value))}>\n              {tables.current.students.map((student, id) => (<option key={student.recordId} value={student.recordId}>{student.name}</option>))}\n          </select>\n          \n          </div>\n          <div>Num of student's current SRS sentences: {tables.current.studentExamples.filter(stuEx=>stuEx.relatedStudent === currentStudent).length}</div>\n      </div>\n      <div className='div-examples'>\n          <table>\n              <thead>\n                  <tr>\n                      <th>ID</th>\n                      <th>Spanish</th>\n                      <th>English</th>\n                      <th>Last Review Date</th>\n                      <th>Review Interval</th>\n                      <th>Date Created</th>\n                  </tr>\n              </thead>\n              <tbody>\n                  {tables.current.studentExamples.filter(stuEx=>stuEx.relatedStudent === currentStudent).map((stuEx, index)=> {\n                      const example = tables.current.examples.find(ex=>ex.recordId===stuEx.relatedExample)\n                      const hace10m = new Date()\n                      hace10m.setMinutes(hace10m.getMinutes() - 10)\n                      //hace10m.setDate(hace10m.getDate()-10)\n                      const exDateCreated = new Date(stuEx.dateCreated)\n                      let ridStyle = {}\n                      if(hace10m < exDateCreated) {\n                        //style is red\n                        ridStyle = {'color': '#d00'}\n                      }\n                      if(true) {\n                        //\n                      }\n                      return(<tr key={stuEx.recordId}>\n                        <td style={ridStyle}>{example.recordId}</td>  \n                        <td>{example.spanishExample}</td>\n                        <td>{example.englishTranslation}</td>\n                        <td>{stuEx.lastReviewedDate}</td>\n                        <td>{stuEx.reviewInterval}</td>\n                        <td>{stuEx.dateCreated.split('T')[0]}</td>\n                        </tr>)\n                  })}\n              </tbody>\n          </table>\n      </div>\n  </div>;\n}\n","import React, {useState, useEffect, useRef} from 'react';\nimport { qb } from './QuickbaseTablesInfo';\nimport { fetchAndCreateTable, getVocabFromBackend, getExamplesFromBackend, getLessonsFromBackend, getStudentsFromBackend} from './QuickbaseFetchFunctions';\nimport './App.css';\nimport ReactHowler from 'react-howler'\n\n\n\n\nexport default function SimpleQuizApp() {\n\n    function createStudentLoadingList () {\n        const loadingList = []\n        for (let i=0;i < 10;i++) {\n          loadingList.push({recordId: i, name: 'Loading Students...'})\n        }\n        return loadingList;\n      }\n\n    const loadingList = createStudentLoadingList()\n\n    const [loadStatus, setloadStatus] = useState([])\n    const tables = useRef({ examples: [], students: loadingList});\n    const [currentStudent, setCurrentStudent] = useState(tables.current.students[0].name);\n    const [quizReady,setQuizReady] = useState(false);\n    const [examplesToReview, setExamplesToReview] = useState ([])\n    const [currentExampleNumber, setCurrentExampleNumber] = useState(1)\n    const [languageShowing, setLanguageShowing] = useState('english')\n    const [playing, setPlaying] = useState(false)\n\n    function togglePlaying() {\n        console.log(`Playing: ${!playing}`)\n        if (playing) {\n            setPlaying(false)\n        } else {\n            setPlaying(true)\n        }\n        \n    }\n    \n    function toggleQuizReady() {\n        setPlaying(false)\n        if (quizReady) {\n            setQuizReady(false)\n            setCurrentExampleNumber(1)\n        } else {\n            setQuizReady(true)\n        }\n    }\n\n    function incrementExample() {\n        if (currentExampleNumber < examplesToReview.length){\n            setCurrentExampleNumber(currentExampleNumber+1)\n        } else {\n            setCurrentExampleNumber(examplesToReview.length)\n        }\n        setLanguageShowing('english')\n        setPlaying(false)\n    }\n    \n    function decrementExample() {\n        if (currentExampleNumber > 1){\n            setCurrentExampleNumber(currentExampleNumber-1)\n        } else {\n            setCurrentExampleNumber(1)\n        }\n        setLanguageShowing('english')\n        setPlaying(false)\n    }\n\n    async function toggleLanguageShowing () {\n        if (languageShowing === 'spanish'){\n            setLanguageShowing('english')\n            setPlaying(false)\n        } else {\n            setLanguageShowing('spanish')\n            setPlaying(false)\n        }\n    }\n\n    function filterByCurrentStudent (example) {\n        if (example.combinedTextStudentName.length === 0){\n            return false\n        }\n        //console.log('has students')\n        for(const student of example.combinedTextStudentName) {\n            if(example.combinedTextStudentName.includes(currentStudent)) {\n                return true\n            }\n        }\n        return false\n    }\n\n    function handleSetupQuiz () {\n        const quizExamples = tables.current.examples.filter(filterByCurrentStudent);\n        function randomize (array) {\n            const randomizedArray = []\n            const vanishingArray = [...array];\n            for (let i = 0; i < array.length; i++) {\n                const randIndex = Math.floor(Math.random()*vanishingArray.length)\n                const randomArrayItem = vanishingArray[randIndex]\n                vanishingArray.splice(randIndex, 1)\n                randomizedArray[i] = randomArrayItem\n                }\n            return randomizedArray\n        }\n        const randomizedQuizExamples = randomize(quizExamples);\n        setExamplesToReview(randomizedQuizExamples)\n        toggleQuizReady();\n    }\n\n    function goBackToMenu(e) {\n        e.preventDefault();\n        const link = '#/Menu/';\n        window.location=link;\n    }\n\n    const whichAudio = (languageShowing === 'spanish')?'spanishAudioLa':'englishAudio'\n\n    const currentAudioUrl = quizReady?examplesToReview[currentExampleNumber-1][whichAudio]:\"\"\n\n    async function init() {\n        console.log('init called')\n        tables.current.students = await getStudentsFromBackend();\n        tables.current.examples = await getExamplesFromBackend();\n        console.log('init completed')\n        setCurrentStudent(tables.current.students[0].name)\n        setloadStatus('loaded')\n      }\n\n    useEffect(() => {\n        init()\n    }, [])\n\n    \n\nreturn (\n    <div className='quizInterface'>\n        <div className='div-header'>\n            <h1>Quizzing App</h1>\n            <div className='returnButton'><button onClick={goBackToMenu}>{'< Back to Menu'}</button></div>\n        </div>\n\n        {/* Student Selector */}\n        <form style = {{display:quizReady?'none':'flex'}} onSubmit={handleSetupQuiz} className='studentSelect'>\n            <h2>Reviewing as:</h2>\n            <div>\n                <select onChange={(e)=>setCurrentStudent(e.target.value)}>\n                    {tables.current.students.map((student, id) => (<option key={id} value={student.name}>{student.name}</option>))}\n                {loadStatus}\n                </select>\n                <input type = 'submit' className='begin-review' value ='Begin Review'></input>\n            </div>\n        </form>\n        \n        {/* Quiz App */}\n        <div style = {{display:quizReady?'flex':'none'}} className='quiz'>\n            <div className='exampleBox'>\n                <div style = {{display:(languageShowing==='english')?'flex':'none'}} className='englishTranslation'>\n                    <p>{examplesToReview[currentExampleNumber-1]?examplesToReview[currentExampleNumber-1].englishTranslation:''}</p>\n                </div>\n                <div style = {{display:(languageShowing==='spanish')?'flex':'none'}}className='spanishExample' >\n                    <p>{examplesToReview[currentExampleNumber-1]?examplesToReview[currentExampleNumber-1].spanishExample:''}</p>\n                </div>\n                <ReactHowler src={(currentAudioUrl===\"\")?\"https://mom-academic.s3.us-east-2.amazonaws.com/dbexamples/example+1+spanish+LA.mp3\":currentAudioUrl} playing={playing} />\n                {console.log(currentAudioUrl)}\n                {console.log()}\n\n            </div>\n            <div className='buttonBox'>\n                <button onClick={decrementExample}>Previous Example</button>\n                <button style = {{display: (currentAudioUrl===\"\")? 'none' :'inherit'}} onClick = {togglePlaying}>Play/Pause Audio</button>\n                <button onClick={incrementExample}>Next Example</button>\n            </div>\n            <div className='buttonBox'>\n                <button onClick={toggleLanguageShowing}>Flip Card</button>\n                <button onClick={toggleQuizReady}>Restart Quiz</button>\n            </div>\n            <div className='progressBar2'>                \n                <div className='progressBarDescription'>Example {currentExampleNumber} of {examplesToReview.length}</div>\n            </div>\n        </div>\n    </div>\n        \n)}","import './App.css';\nimport { BrowserRouter, HashRouter, Routes, Route, Navigate} from 'react-router-dom';\nimport React from 'react';\nimport ExampleRetriever from './ExampleRetriever';\nimport Menu from './Menu';\nimport QuizInterface from './QuizInterface';\nimport QuizInterfaceNoUpdate from './QuizInterfaceNoUpdate';\nimport SRSBuilder from './SRSBuilder';\nimport SimpleQuizApp from './SimpleQuizApp';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <HashRouter>\n        <Routes>\n          <Route exact path='/ExampleRetriever' element={<ExampleRetriever />} />\n          <Route exact path='/SRSBuilder' element={<SRSBuilder />} />\n          <Route exact path='/QuizInterface' element={<QuizInterface />} />\n          <Route exact path='/QuizInterfaceNoUpdate' element={<QuizInterfaceNoUpdate />} />\n          <Route exact path='/Menu' element={<Menu /> } />\n          <Route exact path='/SimpleQuizApp' element = {<SimpleQuizApp />} />\n          <Route exact path='/' element = {<Navigate to ='/Menu'/>}/>\n        </Routes>\n      </HashRouter>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'))\n\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}