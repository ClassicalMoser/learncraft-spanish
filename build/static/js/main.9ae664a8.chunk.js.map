{"version":3,"sources":["QuickbaseFetchFunctions.js","SimpleQuizApp.js","LoginButton.js","LogoutButton.js","App.js","index.js"],"names":["backendUrl","process","getUserDataFromBackend","_x14","_getUserDataFromBackend","apply","this","arguments","_callee8","token","fetchUrl","tableFromBackend","_regeneratorRuntime","wrap","_context8","prev","next","concat","fetch","method","headers","Authorization","then","res","ok","json","data","sort","a","b","sortReference","catch","err","console","log","sent","abrupt","stop","getStudentExamplesFromBackend","_x15","_getStudentExamplesFromBackend","_callee9","_context9","getExamplesFromBackend","_x16","_getExamplesFromBackend","_callee10","_context10","SimpleQuizApp","_ref","studentID","studentName","examplesTable","_useAuth","studentExamplesTable","useAuth0","_useState","user","isAuthorized","getAccessTokenSilently","useState","_useState2","Object","slicedToArray","quizReady","setQuizReady","_useState3","_useState4","examplesToReview","setExamplesToReview","_useState5","_useState6","currentExampleNumber","setCurrentExampleNumber","_useState7","_useState8","languageShowing","setLanguageShowing","_useState9","_useState10","playing","setPlaying","toggleQuizReady","_toggleLanguageShowing","asyncToGenerator","SimpleQuizApp_regeneratorRuntime","mark","_callee","_context","whichAudio","currentAudioUrl","react_default","createElement","className","style","display","justifyContent","onClick","randomizedQuizExamples","array","randomizedArray","vanishingArray","toConsumableArray","i","length","randIndex","Math","floor","random","randomArrayItem","splice","randomize","englishTranslation","spanishExample","lib_default","src","LoginButton","isAuthenticated","isLoading","loginWithRedirect","LogoutButton","logout","logoutParams","returnTo","window","location","origin","require","config","App","name","recordId","emailAddress","qbUserData","setQbUserData","setStudentExamplesTable","setExamplesTable","_userSetup2","App_regeneratorRuntime","_callee2","accessToken","userData","userStudentExampleData","userExampleData","_context2","authorizationParams","audience","scope","result","t0","message","useEffect","userSetup","textAlign","src_LogoutButton","src_LoginButton","ReactDOM","createRoot","document","getElementById","render","StrictMode","auth0_react_esm","domain","clientId","redirect_uri","src_App"],"mappings":"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","file":"static/js/main.9ae664a8.chunk.js","sourcesContent":["import { qb } from './QuickbaseTablesInfo';\n// These are all the functions needed to access the data on the quickbase database\n// These get called whenever a page needs to retrieve, update, or create data on quickbase\n// Every request to quickbase requires a header & a body, so there are functions dedicated to just creating the header or the body\n\n// creates headers needed for querying data from quickbase\n// this is pretty much the same for each quickbase request\nfunction createHeaders(userToken) {\n    const headers = {\n        'QB-Realm-Hostname': 'masterofmemory.quickbase.com',\n        'User-Agent': 'NickApp',\n        'Authorization': userToken,\n        'Content-Type': 'application/json'\n    }\n    return headers\n}\n\n// creates body needed for querying data from quickbase\n// (if there's ever a case where the tables has more columns than 25, the \"select\" array will need to be increased)\nfunction createBody(tableID) {\n    return {\n        \"from\": tableID,\n        \"select\": [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40],\n    }\n}\n\n// go thru each row of fields & print (mainly used for testing)  \nfunction printFields(json) { \n    console.log('Fields', json.fields)\n}\n\n// camelizes string and also removes special characters like #\n// for ex: converts 'Record ID#' to 'recordId', 'word/idiom' to 'wordIdiom', 'spanglish?' to 'spanglish'\nfunction camelize(str) {\n    const strArr = str.replaceAll(/[^\\w\\s]/gi, ' ')\n    const strArr2 = strArr.split(' ')\n    const camelArr = strArr2.map((word, index) => index === 0 ? word.toLowerCase(): word.charAt(0).toUpperCase() + word.slice(1).toLowerCase())\n    return camelArr.join('')\n}\n\n// creates object that maps fieldNames to their corresponding numbers on quickbase database\n// essentially linking the fields names to the number they are associated with on quickbase\nfunction createFieldsJSON(fieldNames, jsonFields) {\n    const newArr = fieldNames.map(fieldName => {\n        return {\n            name: camelize(fieldName),\n            number: jsonFields.find(element => element.label.toLowerCase() === fieldName.toLowerCase()).id\n        }\n    })\n    //console.log('createFieldsJSON: ', newArr)\n    return newArr\n}\n// old version, only worked with vocab\nfunction createTable(data, linksArr) {\n    //console.log('creatTable')\n    return data.map(element => {\n        const stringedJSON = '{' +  linksArr.map(link => { return ('\\\"' + link.name + '\\\"' + ':' + '\\\"' + element[link.number].value.replaceAll('\"', '\\\\\\\"') + '\\\"')}).join(', ') + '}'\n        //console.log('stringedJSON: ', stringedJSON)\n        const parsedJSON = JSON.parse(stringedJSON)\n        \n        //console.log('parsedJSON: ', parsedJSON)\n        return parsedJSON\n    })\n}\n// new improved version that differentiates btwn array & string\n// creates the table object from the quickbase table\nfunction createTable2(data, linksArr) {\n    //console.log('creatTable')\n    return data.map(element => {\n        const stringedJSON = '{' +  linksArr.map(link => { return ('\\\"' + link.name + '\\\"' + ':' + null)}).join(', ') + '}'\n        //console.log('stringedJSON: ', stringedJSON)\n        const parsedJSON = JSON.parse(stringedJSON)\n        \n        //console.log('parsedJSON: ', parsedJSON)\n        linksArr.forEach(link => {\n            parsedJSON[link.name] = element[link.number].value\n        });\n        //console.log('parsedJSON2: ', parsedJSON)\n        return parsedJSON\n    })\n}\n\n// creates & returns tables object, which is what all the pages, like Example Retriever, use to get data from\nexport async function fetchAndCreateTable(userToken, tableInitInfo) {\n    try {\n        const res = await fetch('https://api.quickbase.com/v1/records/query',\n        {\n        method: 'POST',\n        headers: createHeaders(userToken),\n        body: JSON.stringify(createBody(tableInitInfo.id))\n        })\n        if(res.ok) {\n            // if database is ASCII\n            const buffer = await res.arrayBuffer()\n            const decoder = new TextDecoder('ASCII')\n            const text = decoder.decode(buffer)\n            const json = JSON.parse(text)\n\n            //console.log('json: ', json)\n\n            printFields(json) // don't delete\n\n            const linkedFieldsToNumsArr = createFieldsJSON(tableInitInfo.fields, json.fields)\n            const tableArr = createTable2(json.data, linkedFieldsToNumsArr)\n            return tableArr\n        }\n    } catch (err) {\n        console.log(err)\n    }\n}\n\n// test func\nfunction createBodyForUpdateTest(tableID) {\n    return {\n        \"to\": tableID,\n        \"data\": [\n            {\n                \"3\": { \"value\": \"3\" },\n                \"7\": { \"value\": \"5\"}\n            }\n        ],\n        \"fieldsToReturn\": [3, 6, 7, 8, 9]\n    }\n}\n\n// test func\nexport async function testUpdate(userToken, tableInitInfo) {\n    try {\n        const res = await fetch('https://api.quickbase.com/v1/records',\n        {\n        method: 'POST',\n        headers: createHeaders(userToken),\n        body: JSON.stringify(createBodyForUpdateTest(tableInitInfo.id))\n        })\n        if(res.ok) {\n            return res.json().then(res => console.log(res))\n        }\n        return res.json().then(resBody => Promise.reject({status: res.status, ...resBody}))\n    } catch (err) {\n        console.log(err)\n    }\n}\n\n// 3: RecordID\n// 6: Last Review Date\n// 7: Review Interval\n// This is a COPY/PASTE/EDIT of createBody()\n// but is used for updating data on Student Examples table, instead of just retrieving data\n// called by updateStudentExample()\nfunction createBodyForUpdateStudentExample(recordID, lastReviewDate, reviewInterval, tableID) {\n    return {\n        \"to\": tableID,\n        \"data\": [\n            {\n                \"3\": { \"value\": recordID },\n                \"6\": { \"value\": lastReviewDate },\n                \"7\": { \"value\": reviewInterval }\n            }\n        ],\n        \"fieldsToReturn\": [3, 6, 7, 8, 9]\n    }\n}\n\n// This is a COPY/PASTE/EDIT of createBody()\n// but is used for creating data on Student Examples table, instead of just retrieving data\n// called by createStudentExample()\nfunction createBodyForCreateStudentExample(exampleID, studentID, lastReviewDate, reviewInterval, tableID) {\n    return {\n        \"to\": tableID,\n        \"data\": [\n            {\n                //\"3\": { \"value\": recordID },\n                \"6\": { \"value\": lastReviewDate },\n                \"7\": { \"value\": reviewInterval },\n                \"8\": { \"value\": studentID },\n                \"9\": { \"value\": exampleID }\n            }\n        ],\n        \"fieldsToReturn\": [3, 6, 7, 8, 9]\n    }\n}\n\n\n\n// This is a COPY/PASTE/EDIT of fetchAndCreateTable()\n// used by the SRS Quiz interface to update the review interval when user rates example\nexport async function updateStudentExample(recordID, lastReviewDate, reviewInterval, userToken) {\n    try {\n        const res = await fetch('https://api.quickbase.com/v1/records',\n        {\n        method: 'POST',\n        headers: createHeaders(userToken),\n        body: JSON.stringify(createBodyForUpdateStudentExample(recordID, lastReviewDate, reviewInterval, qb.studentExamples.id))\n        })\n        if(res.ok) {\n            //return res.json().then(res => console.log(res))\n            return res.json().then(res => Promise.resolve(res))\n        }\n        return res.json().then(resBody => Promise.reject({status: res.status, ...resBody}))\n    } catch (err) {\n        console.log(err)\n    }\n}\n\n// This is a COPY/PASTE/EDIT of fetchAndCreateTable()\n// used by the SRSBuilder.js, to add examples to the student examples table that will be used for the corresponding student in the SRS quiz interface.\nexport async function createStudentExample(exampleID, studentID, lastReviewDate, reviewInterval, userToken) {\n    try {\n        const res = await fetch('https://api.quickbase.com/v1/records',\n        {\n        method: 'POST',\n        headers: createHeaders(userToken),\n        body: JSON.stringify(createBodyForCreateStudentExample(exampleID, studentID, lastReviewDate, reviewInterval, qb.studentExamples.id))\n        })\n        if(res.ok) {\n            //return res.json().then(res => console.log(res))\n            return res.json().then(res => Promise.resolve(res))\n        }\n        return res.json().then(resBody => Promise.reject({status: res.status, ...resBody}))\n    } catch (err) {\n        console.log(err)\n    }\n}\n\nconst oldBackendUrl = 'lol'\nconst backendUrl = process.env.REACT_APP_BACKEND_URL;\nconsole.log(backendUrl);\n\n\nexport async function getVocabFromBackend() {\n    let fetchUrl = `${oldBackendUrl}qb-vocabulary`\n\n    //console.log(`Fetching ${fetchUrl}`)\n\n    const tableFromBackend = await fetch(fetchUrl,{method:'GET'})\n    .then((res) => {\n        if(res.ok){\n            return res.json().then((res) => {\n                function sortFunction (a,b){\n                    if(a.frequencyRank > b.frequencyRank){\n                        return 1;\n                    }\n                    if(a.frequencyRank < b.frequencyRank){\n                        return -1;\n                    }\n                    return 0\n                }\n                const data = JSON.parse(res);\n                data.sort(sortFunction);\n                //console.log(data);\n                return data;\n            }) \n        }\n        \n    })\n    .catch(err => console.log(err))\n\n    return tableFromBackend\n    \n}\n\nexport async function getLessonsFromBackend() {\n    let fetchUrl = `${oldBackendUrl}qb-lessons`\n\n    //console.log(`Fetching ${fetchUrl}`)\n\n    const tableFromBackend = await fetch(fetchUrl,{method:'GET'})\n    .then((res) => {\n        if(res.ok){\n            return res.json().then((res) => {\n                function sortFunction (a,b){\n                    if(a.sortReference > b.sortReference){\n                        return 1;\n                    }\n                    if(a.sortReference < b.sortReference){\n                        return -1;\n                    }\n                    return 0\n\n                }\n                const data = JSON.parse(res);\n                data.sort(sortFunction);\n                //console.log(data);\n                return data;\n            }) \n        }\n    })\n    .catch(err => console.log(err))\n    \n    return tableFromBackend;\n}\n\nexport async function getStudentsFromBackend() {\n    let fetchUrl = `${oldBackendUrl}qb-students`\n\n    //console.log(`Fetching ${fetchUrl}`)\n\n    const tableFromBackend = await fetch(fetchUrl,{method:'GET'})\n    .then((res) => {\n        if(res.ok){\n            return res.json().then((res) => {\n                const data = JSON.parse(res);\n                //data.sort(sortFunction);\n                return data;\n            }) \n        }\n    })\n    .catch(err => console.log(err))\n    \n    return tableFromBackend;\n}\n\nexport async function getUserDataFromBackend(token) {//actually currently email address – FIX THIS\n    let fetchUrl = `${backendUrl}my-data`//actually currently email address – FIX THIS\n    //console.log(`Fetching ${fetchUrl}`)\n\n    const tableFromBackend = await fetch(fetchUrl,{method:'GET',headers: {Authorization: `Bearer ${token}`}})\n    .then((res) => {\n        if(res.ok){\n            return res.json().then((res) => {\n                function sortFunction (a,b){\n                    if(a.sortReference > b.sortReference){\n                        return 1;\n                    }\n                    if(a.sortReference < b.sortReference){\n                        return -1;\n                    }\n                    return 0\n\n                }\n                const data = [res];\n                data.sort(sortFunction);\n                //console.log(data);\n                return data;\n            }) \n        }\n    })\n    .catch(err => console.log(err))\n    \n    return tableFromBackend;\n}\n\nexport async function getStudentExamplesFromBackend(token) {\n    let fetchUrl = `${backendUrl}my-student-examples`\n\n    //console.log(`Fetching ${fetchUrl}`)\n\n    const tableFromBackend = await fetch(fetchUrl,{method:'GET', headers: {Authorization: `Bearer ${token}`}})\n    .then((res) => {\n        if(res.ok){\n            return res.json().then((res) => {\n                const data = res;\n                return data;\n            }) \n        }\n    })\n    .catch(err => console.log(err))\n    \n    return tableFromBackend;\n}\n\nexport async function getExamplesFromBackend(token) {\n    let fetchUrl = `${backendUrl}my-examples`\n\n    //console.log(`Fetching ${fetchUrl}`)\n\n    const tableFromBackend = await fetch(fetchUrl,{method:'GET', headers: {Authorization: `Bearer ${token}`}})\n    .then((res) => {\n        if(res.ok){\n            return res.json().then((res) => {\n                const data = res;\n                return data;\n            }) \n        }\n    })\n    .catch(err => console.log(err))\n    \n    return tableFromBackend;\n}","import React, {useState, useEffect, useRef} from 'react';\nimport { qb } from './QuickbaseTablesInfo';\nimport './App.css';\nimport ReactHowler from 'react-howler'\nimport { useAuth0 } from '@auth0/auth0-react';\n\n\n\n\nexport default function SimpleQuizApp({studentID, studentName, examplesTable, studentExamplesTable}) {\n    const {user, isAuthorized, getAccessTokenSilently} = useAuth0();\n    //const [studentExamplesTable, setStudentExamplesTable] = useState([])\n    //const [examplesTable, setExamplesTable] = useState([])\n    const [quizReady,setQuizReady] = useState(false);\n    const [examplesToReview, setExamplesToReview] = useState ([])\n    const [currentExampleNumber, setCurrentExampleNumber] = useState(1)\n    const [languageShowing, setLanguageShowing] = useState('english')\n    const [playing, setPlaying] = useState(false)\n\n    function togglePlaying() {\n        console.log(`Playing: ${!playing}`)\n        if (playing) {\n            setPlaying(false)\n        } else {\n            setPlaying(true)\n        }\n        \n    }\n    \n    function toggleQuizReady() {\n        setLanguageShowing('english')\n        setPlaying(false)\n        if (quizReady) {\n            setQuizReady(false)\n            setCurrentExampleNumber(1)\n        } else {\n            setQuizReady(true)\n        }\n    }\n\n    function incrementExample() {\n        if (currentExampleNumber < examplesToReview.length){\n            setCurrentExampleNumber(currentExampleNumber+1)\n        } else {\n            setCurrentExampleNumber(examplesToReview.length)\n        }\n        setLanguageShowing('english')\n        setPlaying(false)\n    }\n    \n    function decrementExample() {\n        if (currentExampleNumber > 1){\n            setCurrentExampleNumber(currentExampleNumber-1)\n        } else {\n            setCurrentExampleNumber(1)\n        }\n        setLanguageShowing('english')\n        setPlaying(false)\n    }\n\n    async function toggleLanguageShowing () {\n        if (languageShowing === 'spanish'){\n            setLanguageShowing('english')\n            setPlaying(false)\n        } else {\n            setLanguageShowing('spanish')\n            setPlaying(false)\n        }\n    }\n\n    function handleSetupQuiz () {\n        const quizExamples = examplesTable;\n        function randomize (array) {\n            const randomizedArray = []\n            const vanishingArray = [...array];\n            for (let i = 0; i < array.length; i++) {\n                const randIndex = Math.floor(Math.random()*vanishingArray.length)\n                const randomArrayItem = vanishingArray[randIndex]\n                vanishingArray.splice(randIndex, 1)\n                randomizedArray[i] = randomArrayItem\n                }\n            return randomizedArray\n        }\n        const randomizedQuizExamples = randomize(quizExamples);\n        setExamplesToReview(randomizedQuizExamples)\n        toggleQuizReady();\n    }\n\n    const whichAudio = (languageShowing === 'spanish')?'spanishAudioLa':'englishAudio'\n\n    const currentAudioUrl = quizReady && (examplesToReview[currentExampleNumber-1])? examplesToReview[currentExampleNumber-1][whichAudio]:\"\"\n    \nif (studentID === 'Loading ID') {\n    return (\n        <div>\n            <h2>Loading...</h2>\n        </div>\n    )\n}\n    \n\nreturn (\n    (studentID !== 'Loading ID') && (\n    <div className='quizInterface'>\n        {/* Student Selector */}\n        <div>\n            <h2>Welcome back, {studentName}!</h2>\n        </div>\n        <div style = {{display:quizReady?'none':'flex', justifyContent: 'space-around'}}>\n            <button onClick={handleSetupQuiz}>Begin Review</button>\n        </div>\n        \n        {/* Quiz App */}\n        <div style = {{display:quizReady?'flex':'none'}} className='quiz'>\n            <div className='exampleBox'>\n                <div style = {{display:(languageShowing==='english')?'flex':'none'}} className='englishTranslation'>\n                    <p>{examplesToReview[currentExampleNumber-1]?examplesToReview[currentExampleNumber-1].englishTranslation:''}</p>\n                </div>\n                <div style = {{display:(languageShowing==='spanish')?'flex':'none'}}className='spanishExample' >\n                    <p>{examplesToReview[currentExampleNumber-1]?examplesToReview[currentExampleNumber-1].spanishExample:''}</p>\n                </div>\n                <ReactHowler src={(currentAudioUrl===\"\")?\"https://mom-academic.s3.us-east-2.amazonaws.com/dbexamples/example+1+spanish+LA.mp3\":currentAudioUrl} playing={playing} />\n\n            </div>\n            <div className='buttonBox'>\n                <button onClick={decrementExample}>Previous Example</button>\n                <button style = {{display: (currentAudioUrl===\"\")? 'none' :'inherit'}} onClick = {togglePlaying}>Play/Pause Audio</button>\n                <button onClick={incrementExample}>Next Example</button>\n            </div>\n            <div className='buttonBox'>\n                <button onClick={toggleLanguageShowing}>Flip Card</button>\n                <button onClick={toggleQuizReady}>Restart Quiz</button>\n            </div>\n            <div className='progressBar2'>                \n                <div className='progressBarDescription'>Example {currentExampleNumber} of {examplesToReview.length}</div>\n            </div>\n        </div>\n    </div>\n    )\n)}","import React from \"react\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\n\nconst LoginButton = () => {\n  const { isAuthenticated, isLoading, loginWithRedirect } = useAuth0();\n\n  return (!isAuthenticated && !isLoading && (\n  <button onClick={() => loginWithRedirect()}>Log In</button>\n  ))\n};\n\nexport default LoginButton;","import React from \"react\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\n\nconst LogoutButton = () => {\n  const { isAuthenticated, isLoading, logout } = useAuth0();\n\n  return (isAuthenticated &&\n    (<button onClick={() => logout({ logoutParams: { returnTo: window.location.origin } })}>\n      Log Out\n    </button>)\n  );\n};\n\nexport default LogoutButton;","import './App.css';\nimport React from 'react';\nimport { useEffect, useState } from 'react';\nimport { getUserDataFromBackend, getStudentExamplesFromBackend, getExamplesFromBackend} from './QuickbaseFetchFunctions';\nimport ExampleRetriever from './ExampleRetriever';\nimport Menu from './Menu';\nimport SimpleQuizApp from './SimpleQuizApp';\nimport LoginButton from './LoginButton';\nimport LogoutButton from './LogoutButton';\nimport { useAuth0 } from '@auth0/auth0-react';\nimport Profile from './Profile';\nrequire('dotenv').config()\n\nfunction App() {\n  const { user, isAuthenticated, getAccessTokenSilently, isLoading } = useAuth0();\n  const [qbUserData, setQbUserData]= useState({name:'Loading Name',recordId:'Loading ID',emailAddress:'Loading Email'})\n  const [studentExamplesTable, setStudentExamplesTable] = useState([])\n  const [examplesTable, setExamplesTable] = useState([])\n\n  async function userSetup () {\n    try {\n      const accessToken = await getAccessTokenSilently({\n        authorizationParams: {\n          audience: \"https://lcs-api.herokuapp.com/\",\n          scope: \"openID email profile\",\n        },\n      });\n      //console.log(accessToken)\n      const userData = await getUserDataFromBackend(accessToken)\n      .then((result) => {\n        //console.log(result)\n        const usefulData = result[0].userData[0];\n        return usefulData\n      });\n      //console.log(userData)\n      setQbUserData(userData)\n      return userData\n    } catch (e) {\n      console.log(e.message);\n    }\n  }\n\n  async function userSetup () {\n    try {\n      const accessToken = await getAccessTokenSilently({\n        authorizationParams: {\n          audience: \"https://lcs-api.herokuapp.com/\",\n          scope: \"openID email profile\",\n        },\n      });\n      //console.log(accessToken)\n      const userData = await getUserDataFromBackend(accessToken)\n      .then((result) => {\n        //console.log(result)\n        const usefulData = result[0].userData[0];\n        return usefulData\n      });\n      console.log(userData)\n      setQbUserData(userData)\n      const userStudentExampleData = await getStudentExamplesFromBackend(accessToken)\n      .then((result) => {\n        const usefulData = result\n        //console.log(usefulData)\n        return usefulData\n      });\n      console.log(userData)\n      setStudentExamplesTable(userStudentExampleData)\n      const userExampleData = await getExamplesFromBackend(accessToken)\n      .then((result) => {\n        const usefulData = result\n        //console.log(usefulData)\n        return usefulData\n      });\n      console.log(userExampleData)\n      setExamplesTable(userExampleData)\n      return userData\n    } catch (e) {\n      console.log(e.message);\n    }\n  }\n\n  useEffect(() => {\n    if(user) {\n      userSetup()\n    }\n  }, [user])\n\n  return (\n    <div className=\"App\" style = {{textAlign: 'center'}}>\n      <div className='div-header'style = {{textAlign: 'center'}}>\n        <h1>LearnCraft Spanish</h1>\n        <LogoutButton />\n        <LoginButton />\n      </div>\n      {isLoading && (\n        <h2>Loading...</h2>\n      )}\n      {!isLoading && !isAuthenticated && (qbUserData.recordId === 'Loading ID') && (\n        <h2>You must be logged in to use this app.</h2>\n      )}\n      {!isLoading && isAuthenticated && (qbUserData.recordId === 'Loading ID') && (\n        <h2>Fetching user data...</h2>\n      )}\n      {/*isAuthenticated && (\n        <Profile Name = {qbUserData.name} Email={qbUserData.emailAddress} ID = {qbUserData.recordId}/>\n      )*/}\n      {(qbUserData.recordId !== 'Loading ID') && (\n        <SimpleQuizApp studentID={qbUserData.recordId} studentName={qbUserData.name} examplesTable={examplesTable} studentExamplesTable={studentExamplesTable}/>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport { Auth0Provider } from \"@auth0/auth0-react\";\n\nconst root = ReactDOM.createRoot(document.getElementById('root'))\n\nroot.render(\n  <React.StrictMode>\n    <Auth0Provider\n    domain=\"dev-34nyaerydb7nt4yw.us.auth0.com\"\n    clientId=\"8EjjTUWQkoHPL1DvOfH1xePnqkZ0s8bO\"\n    authorizationParams={{\n      redirect_uri: window.location.origin,\n      audience: \"https://lcs-api.herokuapp.com/\",\n      scope: \"openID email profile read:current_user update:current_user_metadata\"\n    }}\n  >\n      <App />\n    </Auth0Provider>\n  </React.StrictMode>\n);\n"],"sourceRoot":""}